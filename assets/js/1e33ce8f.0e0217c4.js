"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[27965],{503103:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"cwa/monitors/183d5388-764f-4e39-9ddc-2e4212b579e4","title":"Import- Enable Bitlocker Feature","description":"This document provides a step-by-step guide on how to enable the Bitlocker feature for specific groups using SQL queries in ConnectWise Automate. It includes instructions on obtaining group IDs, modifying the SQL query, and executing it to apply the remote monitor settings.","source":"@site/docs/cwa/monitors/Import- Enable Bitlocker Feature.md","sourceDirName":"cwa/monitors","slug":"/cwa/monitors/183d5388-764f-4e39-9ddc-2e4212b579e4","permalink":"/docs/cwa/monitors/183d5388-764f-4e39-9ddc-2e4212b579e4","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/monitors/Import- Enable Bitlocker Feature.md","tags":[{"inline":false,"label":"Database","permalink":"/docs/tags/database","description":"Documents related to database management systems and operations"},{"inline":false,"label":"Security","permalink":"/docs/tags/security","description":"Documents discussing security measures and practices for IT systems"},{"inline":false,"label":"Windows","permalink":"/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"183d5388-764f-4e39-9ddc-2e4212b579e4","title":"Import- Enable Bitlocker Feature","title_meta":"Import- Enable Bitlocker Feature","keywords":["bitlocker","groupid","monitor","sql","feature"],"description":"This document provides a step-by-step guide on how to enable the Bitlocker feature for specific groups using SQL queries in ConnectWise Automate. It includes instructions on obtaining group IDs, modifying the SQL query, and executing it to apply the remote monitor settings.","tags":["database","security","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Import- DHCP Scope(s) < 5 IP Addresses Available","permalink":"/docs/cwa/monitors/81c88531-4918-4d74-ac84-efbc2c3cfe51"},"next":{"title":"Import- NTLMv1.1 Detection","permalink":"/docs/cwa/monitors/92ad2db8-528e-4bce-8011-ed0e3563e335"}}');var n=r(474848),a=r(28453);const s={id:"183d5388-764f-4e39-9ddc-2e4212b579e4",title:"Import- Enable Bitlocker Feature",title_meta:"Import- Enable Bitlocker Feature",keywords:["bitlocker","groupid","monitor","sql","feature"],description:"This document provides a step-by-step guide on how to enable the Bitlocker feature for specific groups using SQL queries in ConnectWise Automate. It includes instructions on obtaining group IDs, modifying the SQL query, and executing it to apply the remote monitor settings.",tags:["database","security","windows"],draft:!1,unlisted:!1},i=void 0,l={},c=[{value:"Step 1",id:"step-1",level:2},{value:"Step 2",id:"step-2",level:2},{value:"Step 3",id:"step-3",level:2},{value:"Step 4",id:"step-4",level:2},{value:"Step 5",id:"step-5",level:2}];function d(e){const t={br:"br",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"step-1",children:"Step 1"}),"\n",(0,n.jsx)(t.p,{children:"Obtain the group ID(s) of the group(s) that the remote monitor should be applied to."}),"\n",(0,n.jsx)(t.h2,{id:"step-2",children:"Step 2"}),"\n",(0,n.jsxs)(t.p,{children:["Copy the following query and replace ",(0,n.jsx)(t.strong,{children:"YOUR COMMA SEPARATED LIST OF GROUPID(S)"})," with the group ID(s) of the relevant groups:",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.em,{children:"(The string to replace can be found at the very bottom of the query, right after WHERE)"})]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"INSERT INTO groupagents \r\n  SELECT '' as `AgentID`,\r\n  `groupid` as `GroupID`,\r\n  '0' as `SearchID`,\r\n  'ProVal - Production - Enable Bitlocker Feature' as `Name`,\r\n  '6' as `CheckAction`,\r\n  '1' as `AlertAction`,\r\n  '%NAME% %STATUS% on %CLIENTNAME%\\\\%COMPUTERNAME% at %LOCATIONNAME% for %FIELDNAME% result %RESULT%.!!!%NAME% %STATUS% on %CLIENTNAME%\\\\%COMPUTERNAME% at %LOCATIONNAME% for %FIELDNAME% result %RESULT%.' as `AlertMessage`,\r\n  '0' as `ContactID`,\r\n  '21600' as `interval`,\r\n  '127.0.0.1' as `Where`,\r\n  '7' as `What`,\r\n  'C:\\\\Windows\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe -ExecutionPolicy Bypass -Command \"$RS=\\'RSAT-Feature-Tools-BitLocker\\',\\'RSAT-Feature-Tools-BitLocker-RemoteAdminTool\\',\\'RSAT-Feature-Tools-BitLocker-BdeAducExt\\';Foreach($r in $RS){if (((Get-WindowsFeature -Name $r).InstallState) -ne \\'Installed\\') {try{Install-WindowsFeature -Name $r -erroraction Stop 3>&1 1>$null}catch{return \\'Failed\\'}}}\"' as `DataOut`,\r\n  '16' as `Comparor`,\r\n  '10|^(()%7C %7C(OK)%7C(\\\\r\\\\n))$|11|^(()%7C %7C(OK)%7C(\\\\r\\\\n))$%7C(Failed)|10|Failed' as `DataIn`,\r\n  '' as `IDField`,\r\n  '1' as `AlertStyle`,\r\n  '0' as `ScriptID`,\r\n  '' as `datacollector`,\r\n  '21' as `Category`,\r\n  '0' as `TicketCategory`,\r\n  '1' as `ScriptTarget`,\r\n  UUID() as `GUID`,\r\n  'root' as `UpdatedBy`,\r\n  (NOW()) as `UpdateDate`\r\nFROM mastergroups m\r\nWHERE m.groupid IN (YOUR COMMA SEPARATED LIST OF GROUPID(S))\r\nAND m.groupid NOT IN  (SELECT DISTINCT groupid FROM groupagents WHERE `Name` = 'ProVal - Production - Enable Bitlocker Feature')\n"})}),"\n",(0,n.jsx)(t.h2,{id:"step-3",children:"Step 3"}),"\n",(0,n.jsx)(t.p,{children:"An example of a query with a group ID:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"INSERT INTO groupagents \r\n  SELECT '' as `AgentID`,\r\n  `groupid` as `GroupID`,\r\n  '0' as `SearchID`,\r\n  'ProVal - Production - Enable Bitlocker Feature' as `Name`,\r\n  '6' as `CheckAction`,\r\n  '1' as `AlertAction`,\r\n  '%NAME% %STATUS% on %CLIENTNAME%\\\\%COMPUTERNAME% at %LOCATIONNAME% for %FIELDNAME% result %RESULT%.!!!%NAME% %STATUS% on %CLIENTNAME%\\\\%COMPUTERNAME% at %LOCATIONNAME% for %FIELDNAME% result %RESULT%.' as `AlertMessage`,\r\n  '0' as `ContactID`,\r\n  '21600' as `interval`,\r\n  '127.0.0.1' as `Where`,\r\n  '7' as `What`,\r\n  'C:\\\\Windows\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe -ExecutionPolicy Bypass -Command \"$RS=\\'RSAT-Feature-Tools-BitLocker\\',\\'RSAT-Feature-Tools-BitLocker-RemoteAdminTool\\',\\'RSAT-Feature-Tools-BitLocker-BdeAducExt\\';Foreach($r in $RS){if (((Get-WindowsFeature -Name $r).InstallState) -ne \\'Installed\\') {try{Install-WindowsFeature -Name $r -erroraction Stop 3>&1 1>$null}catch{return \\'Failed\\'}}}\"' as `DataOut`,\r\n  '16' as `Comparor`,\r\n  '10|^(()%7C %7C(OK)%7C(\\\\r\\\\n))$|11|^(()%7C %7C(OK)%7C(\\\\r\\\\n))$%7C(Failed)|10|Failed' as `DataIn`,\r\n  '' as `IDField`,\r\n  '1' as `AlertStyle`,\r\n  '0' as `ScriptID`,\r\n  '' as `datacollector`,\r\n  '21' as `Category`,\r\n  '0' as `TicketCategory`,\r\n  '1' as `ScriptTarget`,\r\n  UUID() as `GUID`,\r\n  'root' as `UpdatedBy`,\r\n  (NOW()) as `UpdateDate`\r\nFROM mastergroups m\r\nWHERE m.groupid IN (219)\r\nAND m.groupid NOT IN  (SELECT DISTINCT groupid FROM groupagents WHERE `Name` = 'ProVal - Production - Enable Bitlocker Feature')\n"})}),"\n",(0,n.jsx)(t.h2,{id:"step-4",children:"Step 4"}),"\n",(0,n.jsx)(t.p,{children:"Now execute your query from a RAWSQL monitor set."}),"\n",(0,n.jsx)(t.h2,{id:"step-5",children:"Step 5"}),"\n",(0,n.jsxs)(t.p,{children:["Locate your remote monitor by opening the group(s) remote monitors tab.",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.strong,{children:"DO NOT"})," apply any alert template to this monitor set."]})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>i});var o=r(296540);const n={},a=o.createContext(n);function s(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);