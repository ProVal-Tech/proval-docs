"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[62371],{379670:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>n,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"cwa/scripts/30356d75-6212-4a23-b373-d08aa8f548e0","title":"ProVal - Monitor Restart Service Autofix","description":"This document describes a script designed to be executed by the \\"~Autofix Kill stuck service and restart\\" alert template. It attempts to restart a failed service, and if that fails, it kills the service and tries to start it again using various commands. The script requires a parameter for the service name and is intended for use in auto-fix scenarios within Service Monitors.","source":"@site/docs/cwa/scripts/ProVal - Monitor Restart Service Autofix.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/30356d75-6212-4a23-b373-d08aa8f548e0","permalink":"/proval-docs/docs/cwa/scripts/30356d75-6212-4a23-b373-d08aa8f548e0","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/ProVal - Monitor Restart Service Autofix.md","tags":[],"version":"current","frontMatter":{"id":"30356d75-6212-4a23-b373-d08aa8f548e0","title":"ProVal - Monitor Restart Service Autofix","title_meta":"ProVal - Monitor Restart Service Autofix","keywords":["service","restart","autofix","monitor","labtech"],"description":"This document describes a script designed to be executed by the \\"~Autofix Kill stuck service and restart\\" alert template. It attempts to restart a failed service, and if that fails, it kills the service and tries to start it again using various commands. The script requires a parameter for the service name and is intended for use in auto-fix scenarios within Service Monitors.","tags":[],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Printer Change IP","permalink":"/proval-docs/docs/cwa/scripts/631186de-253a-4bd7-8197-958cb1ed7b68"},"next":{"title":"Prompter - Template","permalink":"/proval-docs/docs/cwa/scripts/e6f6f344-5f75-4794-84d9-86b110206089"}}');var r=i(474848),a=i(28453);const n={id:"30356d75-6212-4a23-b373-d08aa8f548e0",title:"ProVal - Monitor Restart Service Autofix",title_meta:"ProVal - Monitor Restart Service Autofix",keywords:["service","restart","autofix","monitor","labtech"],description:'This document describes a script designed to be executed by the "~Autofix Kill stuck service and restart" alert template. It attempts to restart a failed service, and if that fails, it kills the service and tries to start it again using various commands. The script requires a parameter for the service name and is intended for use in auto-fix scenarios within Service Monitors.',tags:[],draft:!1,unlisted:!1},c=void 0,o={},l=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Variables",id:"variables",level:2},{value:"Process",id:"process",level:2},{value:"Output",id:"output",level:2}];function d(e){const t={code:"code",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(t.p,{children:['This script is intended to be called by the "~Autofix Kill stuck service and restart" alert template. When run, the script will attempt to restart the failed service. If the attempt to restart the service is successful, the script will exit. However, if the first attempt fails, it will attempt to kill the service first and then try to start the service using the default Labtech Command as well as shell commands. The script requires an input parameter named ',(0,r.jsx)(t.code,{children:"@fieldname@"})," containing the name of the service to be restarted."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Time Saved by Automation:"})," 5 Minutes"]}),"\n",(0,r.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,r.jsxs)(t.p,{children:["This script is intended to run only as an auto-fix script, as the ",(0,r.jsx)(t.code,{children:"@fieldname@"})," will be passed by the monitor."]}),"\n",(0,r.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsx)(t.p,{children:"Should be run as an auto-fix script on the Service Monitors."}),"\n",(0,r.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Variable Name"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Description"})})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"DisableAutofixes"}),(0,r.jsx)(t.td,{children:"This variable stores the EDF (Disable Autofixes) value."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"DisableRestartService"}),(0,r.jsx)(t.td,{children:"This variable stores the EDF (Disable Autofix Restart Services) value."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"process",children:"Process"}),"\n",(0,r.jsxs)(t.p,{children:['This script is intended to be called by the "~Autofix Kill stuck service and restart" alert template. When run, the script will attempt to restart the failed service. If the attempt to restart the service is successful, the script will exit. However, if the first attempt fails, it will attempt to kill the service first and then try to start the service using the default Labtech Command as well as shell commands. The script requires an input parameter named ',(0,r.jsx)(t.code,{children:"@fieldname@"})," containing the name of the service to be restarted."]}),"\n",(0,r.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Script log"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>n,x:()=>c});var s=i(296540);const r={},a=s.createContext(r);function n(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);