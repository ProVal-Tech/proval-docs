"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[1325],{356107:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"cwa/scripts/225185fa-817d-49e9-8000-ebbf2e69cf2c","title":"Automate Database Maintenance - Patch Manager","description":"This document details a script used for maintaining the Automate database by cleaning up specific tables related to patch management. It outlines the required global variable settings, describes the script\u2019s functionality, and provides an overview of the variables used within the script.","source":"@site/docs/cwa/scripts/Automate Database Maintenance - Patch Manager.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/225185fa-817d-49e9-8000-ebbf2e69cf2c","permalink":"/docs/cwa/scripts/225185fa-817d-49e9-8000-ebbf2e69cf2c","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/Automate Database Maintenance - Patch Manager.md","tags":[{"inline":false,"label":"Cleanup","permalink":"/docs/tags/cleanup","description":"Documents on system cleanup processes and tools to free up resources"},{"inline":false,"label":"Database","permalink":"/docs/tags/database","description":"Documents related to database management systems and operations"}],"version":"current","frontMatter":{"id":"225185fa-817d-49e9-8000-ebbf2e69cf2c","title":"Automate Database Maintenance - Patch Manager","title_meta":"Automate Database Maintenance - Patch Manager","keywords":["cleanup","database","maintenance","patch","history"],"description":"This document details a script used for maintaining the Automate database by cleaning up specific tables related to patch management. It outlines the required global variable settings, describes the script\u2019s functionality, and provides an overview of the variables used within the script.","tags":["cleanup","database"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Automate Database Maintenance - Network Devices","permalink":"/docs/cwa/scripts/09db9e10-3f2c-46f8-8071-3c6e5c09b04d"},"next":{"title":"Automate Database Maintenance - Roles","permalink":"/docs/cwa/scripts/1d5d4aff-3a10-4bef-8e29-5e3234a1076b"}}');var n=a(474848),i=a(28453);const c={id:"225185fa-817d-49e9-8000-ebbf2e69cf2c",title:"Automate Database Maintenance - Patch Manager",title_meta:"Automate Database Maintenance - Patch Manager",keywords:["cleanup","database","maintenance","patch","history"],description:"This document details a script used for maintaining the Automate database by cleaning up specific tables related to patch management. It outlines the required global variable settings, describes the script\u2019s functionality, and provides an overview of the variables used within the script.",tags:["cleanup","database"],draft:!1,unlisted:!1},r=void 0,l={},o=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Variables",id:"variables",level:2},{value:"Output",id:"output",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,n.jsxs)(t.p,{children:["This script is called from ",(0,n.jsx)(t.a,{href:"/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["This script handles the cleanup of the following table(s) and requires the ",(0,n.jsx)(t.a,{href:"/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"})," ",(0,n.jsx)(t.code,{children:"PatchManagerHistory_Cleanup"})," global variable to be set to 1:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"patchapprovalsettings"}),"\n",(0,n.jsx)(t.li,{children:"hotfixdata"}),"\n",(0,n.jsx)(t.li,{children:"PatchCVSSInfo"}),"\n",(0,n.jsx)(t.li,{children:"hotfix"}),"\n",(0,n.jsx)(t.li,{children:"superseded patches"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,n.jsxs)(t.p,{children:["This script is a function script called from ",(0,n.jsx)(t.a,{href:"/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,n.jsx)(t.p,{children:"Document the various variables in the script. Delete any section that is not relevant to your script."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Verify"}),(0,n.jsx)(t.td,{children:"This variable verifies both the starting count of targeted data, as well as the after-action count of targeted data. We expect the starting count to be a value greater than 0, and the after-action value to be 0."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LogMessage"}),(0,n.jsxs)(t.td,{children:["This variable is the running log holding variable. Please note this variable is always set the same everywhere it's used in the solution. ",(0,n.jsx)(t.code,{children:"@logMessage@"})," = ",(0,n.jsx)(t.code,{children:"@LogMessage@[Linebreak]%when% : [Category] Cleanup [Stage] - Result"}),". Please continue to utilize this standard with this running log file."]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,n.jsx)(t.p,{children:"This script will add the following section to the log variable:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Output Image",src:a(156706).A+"",width:"1000",height:"246"})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},156706:(e,t,a)=>{a.d(t,{A:()=>s});const s=a.p+"assets/images/image_1-9df9dfb30ab82d072f915e0d548f1751.png"},28453:(e,t,a)=>{a.d(t,{R:()=>c,x:()=>r});var s=a(296540);const n={},i=s.createContext(n);function c(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);