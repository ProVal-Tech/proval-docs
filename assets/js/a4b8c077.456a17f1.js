"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[54469],{493893:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"cwa/scripts/71b6a39c-0d61-4959-8f1e-69b1cc84d182","title":"Online Status Alerting - Autofix - Update Ticket + Email EDF","description":"This document provides an overview of the Online Status Alerting Auto-Fix script designed to manage ticket statuses when machines come back online or are restarted. It details the required system properties and user parameters, along with dependencies and sample runs to guide users in implementing the script effectively.","source":"@site/docs/cwa/scripts/Online Status Alerting - Autofix - Update Ticket + Email EDF.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/71b6a39c-0d61-4959-8f1e-69b1cc84d182","permalink":"/proval-docs/docs/cwa/scripts/71b6a39c-0d61-4959-8f1e-69b1cc84d182","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/Online Status Alerting - Autofix - Update Ticket + Email EDF.md","tags":[{"inline":false,"label":"Alerting","permalink":"/proval-docs/docs/tags/alerting","description":"Documents related to creating or managing alert systems and notifications"},{"inline":false,"label":"Email","permalink":"/proval-docs/docs/tags/email","description":"Documents about email systems and their management"}],"version":"current","frontMatter":{"id":"71b6a39c-0d61-4959-8f1e-69b1cc84d182","title":"Online Status Alerting - Autofix - Update Ticket + Email EDF","title_meta":"Online Status Alerting - Autofix - Update Ticket + Email EDF","keywords":["online","status","alerting","ticket","management","notification"],"description":"This document provides an overview of the Online Status Alerting Auto-Fix script designed to manage ticket statuses when machines come back online or are restarted. It details the required system properties and user parameters, along with dependencies and sample runs to guide users in implementing the script effectively.","tags":["alerting","email"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Online Responder","permalink":"/proval-docs/docs/cwa/scripts/06701525-5649-4693-97dd-915a0f59635a"},"next":{"title":"Online Status Alerting - Update EDFs Param","permalink":"/proval-docs/docs/cwa/scripts/79f11a31-7ae1-4e12-a9d7-581e809aaa2e"}}');var s=i(474848),r=i(28453);const a={id:"71b6a39c-0d61-4959-8f1e-69b1cc84d182",title:"Online Status Alerting - Autofix - Update Ticket + Email EDF",title_meta:"Online Status Alerting - Autofix - Update Ticket + Email EDF",keywords:["online","status","alerting","ticket","management","notification"],description:"This document provides an overview of the Online Status Alerting Auto-Fix script designed to manage ticket statuses when machines come back online or are restarted. It details the required system properties and user parameters, along with dependencies and sample runs to guide users in implementing the script effectively.",tags:["alerting","email"],draft:!1,unlisted:!1},c=void 0,d={},l=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"System Properties",id:"system-properties",level:3},{value:"User Parameters",id:"user-parameters",level:2},{value:"Variables",id:"variables",level:2},{value:"Script States",id:"script-states",level:2},{value:"Output",id:"output",level:2}];function o(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(t.p,{children:["This script will run as an auto-fix for the ",(0,s.jsx)(t.a,{href:"/proval-docs/docs/cwa/monitors/76fa2909-0cc0-4f76-82a0-c067660d52ac",children:"Online Status Alerting - Machine Back Online"})," and ",(0,s.jsx)(t.a,{href:"/proval-docs/docs/cwa/monitors/b2fbe440-9d16-41ae-bd52-14037790697f",children:"Online Status Alerting - Machine Restarted"})," monitor sets. It uses the system properties ",(0,s.jsx)(t.code,{children:"Email_Connector_email_Address"})," and ",(0,s.jsx)(t.code,{children:"Status_To_Change_To"})," for the email connector's email address and the ticket status to which the client wants to change."]}),"\n",(0,s.jsx)(t.p,{children:'The script changes the status of the ticket if the EDF "Online Alert Ticket ID" at the computer level is filled with a Ticket ID, or if the Email ID is filled in the EDF "Online Alert E-mail." It will change the status along with a message. Users can also provide a reason for the notification by filling in the reason in the EDF "Online Alert Reason."'}),"\n",(0,s.jsx)(t.p,{children:'Additionally, filling out the "Online Alert Scripts" will run a list of scripts after the machine comes back online.'}),"\n",(0,s.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,s.jsxs)(t.p,{children:["The script is designed to run from the ",(0,s.jsx)(t.a,{href:"/proval-docs/docs/cwa/monitors/76fa2909-0cc0-4f76-82a0-c067660d52ac",children:"Online Status Alerting - Machine Back Online"})," and ",(0,s.jsx)(t.a,{href:"/proval-docs/docs/cwa/monitors/b2fbe440-9d16-41ae-bd52-14037790697f",children:"Online Status Alerting - Machine Restarted"})," monitor sets only and should not be executed manually against any machine, except for the first time to set the environment."]}),"\n",(0,s.jsxs)(t.p,{children:["After importing the script, it should either be debugged or run against any computer in the environment with ",(0,s.jsx)(t.code,{children:"1"})," in the user parameter ",(0,s.jsx)(t.code,{children:"SetEnvironment"}),", along with the other user parameters ",(0,s.jsx)(t.code,{children:"Email_Connector_email_Address"})," and ",(0,s.jsx)(t.code,{children:"Status_To_Change_To"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"NOTE:"})," The user parameters ",(0,s.jsx)(t.code,{children:"Email_Connector_email_Address"})," and ",(0,s.jsx)(t.code,{children:"Status_To_Change_To"})," are required to be filled only by running the script for the first time after importing it. This sets the system properties on its first run."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Image",src:i(974179).A+"",width:"478",height:"449"})}),"\n",(0,s.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/79f11a31-7ae1-4e12-a9d7-581e809aaa2e",children:"CWM - Automate - Script - Online Status Alerting - Update EDFs [Param]"})}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"system-properties",children:"System Properties"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"Status_To_Change_To"}),": The ticket status the client wants to change to."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"Email_Connector_email_Address"}),": The email address of the email connector."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"user-parameters",children:"User Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Example"}),(0,s.jsx)(t.th,{children:"Required"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"SetEnvironment"})}),(0,s.jsx)(t.td,{children:"1"}),(0,s.jsx)(t.td,{children:"True for first run only"}),(0,s.jsx)(t.td,{children:"Set it to 1 for the first run after importing the script. This will create the System Properties needed for the solution."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Email_Connector_email_Address"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"mailto:abc@xyz.com",children:"abc@xyz.com"})}),(0,s.jsx)(t.td,{children:"True for first run only"}),(0,s.jsx)(t.td,{children:"The email address of the email connector. This will help link the email system with ticketing. THIS SHOULD BE USED ONLY WITH SetEnvironment = 1."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Status_To_Change_To"})}),(0,s.jsx)(t.td,{children:"Requeued"}),(0,s.jsx)(t.td,{children:"True for first run only"}),(0,s.jsx)(t.td,{children:"The ticket status the client wants to change to. THIS SHOULD BE USED ONLY WITH SetEnvironment = 1."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Subject"})}),(0,s.jsx)(t.td,{children:"Email Subject"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Body"})}),(0,s.jsx)(t.td,{children:"Email Content"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"TicketID"})}),(0,s.jsx)(t.td,{children:'Ticket ID specified in the Computer EDF "Online Alert Ticket ID" for which the user wants to change the status in Manage.'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Reason"})}),(0,s.jsx)(t.td,{children:'Reason specified in the Computer EDF "Online Alert Reason"'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Email"})}),(0,s.jsx)(t.td,{children:"Email ID of the recipient who wants to be notified via email if the machine comes back online."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"ScriptIDs"})}),(0,s.jsx)(t.td,{children:"The scripts to run against the machine after it comes back online."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Email_Connector_email_Address"})}),(0,s.jsx)(t.td,{children:"The email address of the email connector."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Status_To_Change_To"})}),(0,s.jsx)(t.td,{children:"The ticket status the client wants to change to."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"script-states",children:"Script States"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State"}),(0,s.jsx)(t.th,{children:"Example"}),(0,s.jsx)(t.th,{children:"Required"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Restarted_Machine_Notification_Uptime"})}),(0,s.jsx)(t.td,{children:"4846"}),(0,s.jsx)(t.td,{children:"True"}),(0,s.jsxs)(t.td,{children:["Stores the current uptime of the computer for the machines with the ",(0,s.jsx)(t.code,{children:"Online Alert Restarted Machine"})," flag set."]})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Email"}),"\n",(0,s.jsx)(t.li,{children:'Ticket status change to the desired status as per configuration done in the system property "Status_To_Change_To."'}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},974179:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_1-2d796698f910ab06347bd6bccd3e4d88.png"},28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>c});var n=i(296540);const s={},r=n.createContext(s);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);