"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[38031],{749247:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"cwa/scripts/1a561427-06ea-4c8c-b752-d1ad312007ab","title":"Agents Migration Monitoring - Client-Level","description":"This document describes a script designed to identify computers that have been transferred from one client to another within ConnectWise Automate. It includes details on setup, dependencies, variables used, and the output format for notifications.","source":"@site/docs/cwa/scripts/Agents Migration Monitoring - Client-Level.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/1a561427-06ea-4c8c-b752-d1ad312007ab","permalink":"/proval-docs/docs/cwa/scripts/1a561427-06ea-4c8c-b752-d1ad312007ab","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/Agents Migration Monitoring - Client-Level.md","tags":[{"inline":false,"label":"Setup","permalink":"/proval-docs/docs/tags/setup","description":"Documents on setting up software and hardware configurations"},{"inline":false,"label":"Ticketing","permalink":"/proval-docs/docs/tags/ticketing","description":"Documents related to ticketing systems and IT support management"}],"version":"current","frontMatter":{"id":"1a561427-06ea-4c8c-b752-d1ad312007ab","title":"Agents Migration Monitoring - Client-Level","title_meta":"Agents Migration Monitoring - Client-Level","keywords":["client","transfer","notification","script","automate"],"description":"This document describes a script designed to identify computers that have been transferred from one client to another within ConnectWise Automate. It includes details on setup, dependencies, variables used, and the output format for notifications.","tags":["setup","ticketing"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Agent Monitors - Remove Disk Monitors for Missing Drives","permalink":"/proval-docs/docs/cwa/scripts/581b4986-28e0-41df-bff8-c5179414c9ee"},"next":{"title":"Application - Latest Version Detection Winget","permalink":"/proval-docs/docs/cwa/scripts/ffb77c6c-8dd7-4ca5-82a2-327b1658cbde"}}');var s=i(474848),r=i(28453);const c={id:"1a561427-06ea-4c8c-b752-d1ad312007ab",title:"Agents Migration Monitoring - Client-Level",title_meta:"Agents Migration Monitoring - Client-Level",keywords:["client","transfer","notification","script","automate"],description:"This document describes a script designed to identify computers that have been transferred from one client to another within ConnectWise Automate. It includes details on setup, dependencies, variables used, and the output format for notifications.",tags:["setup","ticketing"],draft:!1,unlisted:!1},a=void 0,d={},o=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Variables",id:"variables",level:2},{value:"Output",id:"output",level:2},{value:"Ticketing",id:"ticketing",level:2},{value:"Sample Ticket",id:"sample-ticket",level:2}];function l(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(t.p,{children:"The script's objective is to identify the computers that have been transferred from one client to another in Automate. The schedule of the script determines the delay in the alert."}),"\n",(0,s.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Sample Run",src:i(399674).A+"",width:"1000",height:"315"})}),"\n",(0,s.jsx)(t.p,{children:"It is a client script that has to be set up to run on a regular basis, either daily or hourly."}),"\n",(0,s.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"/proval-docs/docs/cwa/tables/0030148b-608a-449a-9d52-ff1678fa79c0",children:"CWM - Automate - Custom Table - pvl_computer_client_auditing"})}),"\n",(0,s.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Table_Name"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"/proval-docs/docs/cwa/tables/0030148b-608a-449a-9d52-ff1678fa79c0",children:"pvl_computer_client_auditing"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Count"}),(0,s.jsx)(t.td,{children:"Number of detected computers"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sqlNew_Clientid"}),(0,s.jsx)(t.td,{children:"New client ID of the detected computer"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sqlcmpid"}),(0,s.jsx)(t.td,{children:"Computer ID of the detected computer"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sqlComputer_Name"}),(0,s.jsx)(t.td,{children:"Name of the detected computer"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sqlOld_Client_Name"}),(0,s.jsx)(t.td,{children:"Name of the previous client of the detected computer"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sqlNew_Client_Name"}),(0,s.jsx)(t.td,{children:"Name of the current client of the detected computer"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sqlLast_Checked"}),(0,s.jsx)(t.td,{children:"Last time when the computer was found under the previous client"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Tickets"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"ticketing",children:"Ticketing"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Subject:"})," ",(0,s.jsx)(t.code,{children:"Agent Migrated to New Client - @sqlComputer_Name@"})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Body:"}),' Between @sqlLast_Checked@ and %When%, the computer "@sqlComputer_Name@" was relocated from "@sqlOld_Client_Name@" to "@sqlNew_Client_Name@" in Automate. Please look into it.']}),"\n",(0,s.jsx)(t.h2,{id:"sample-ticket",children:"Sample Ticket"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Sample Ticket",src:i(329841).A+"",width:"1000",height:"280"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},399674:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_1-114bcb396469bc8d484640995e6a454f.png"},329841:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_2-e67bbf944bd4d00c46564f642caf41ae.png"},28453:(e,t,i)=>{i.d(t,{R:()=>c,x:()=>a});var n=i(296540);const s={},r=n.createContext(s);function c(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);