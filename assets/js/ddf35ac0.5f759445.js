"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[28257],{338291:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>i});const n=JSON.parse('{"id":"vsa/procedures/7eb2b58e-9f5e-4732-8457-6518060f0cc3","title":"Scheduled Task for Agent Restart - Create","description":"This document outlines the process of creating a scheduled task that attempts to restart the VSA Agent every 15 minutes to ensure that VSA agents remain online and notify users of any issues. It includes sample run logs, dependencies, and the process involved in setting up the task.","source":"@site/docs/vsa/procedures/Scheduled Task for Agent Restart - Create.md","sourceDirName":"vsa/procedures","slug":"/vsa/procedures/7eb2b58e-9f5e-4732-8457-6518060f0cc3","permalink":"/proval-docs/docs/vsa/procedures/7eb2b58e-9f5e-4732-8457-6518060f0cc3","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/vsa/procedures/Scheduled Task for Agent Restart - Create.md","tags":[{"inline":false,"label":"Performance","permalink":"/proval-docs/docs/tags/performance","description":"Documents related to enhancing system and application performance"},{"inline":false,"label":"Software","permalink":"/proval-docs/docs/tags/software","description":"Documents related to software applications and their lifecycle management"},{"inline":false,"label":"Windows","permalink":"/proval-docs/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"7eb2b58e-9f5e-4732-8457-6518060f0cc3","title":"Scheduled Task for Agent Restart - Create","title_meta":"Scheduled Task for Agent Restart - Create","keywords":["scheduled","task","vsa","agent","restart"],"description":"This document outlines the process of creating a scheduled task that attempts to restart the VSA Agent every 15 minutes to ensure that VSA agents remain online and notify users of any issues. It includes sample run logs, dependencies, and the process involved in setting up the task.","tags":["performance","software","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Scheduled Task Create","permalink":"/proval-docs/docs/vsa/procedures/c6bc7c56-5ff9-4dad-9743-37076f18864f"},"next":{"title":"Scheduled Task for Agent Restart - Remove","permalink":"/proval-docs/docs/vsa/procedures/b4f78d3c-4c41-46eb-9fee-94b9f7d3caab"}}');var r=s(474848),d=s(28453);const c={id:"7eb2b58e-9f5e-4732-8457-6518060f0cc3",title:"Scheduled Task for Agent Restart - Create",title_meta:"Scheduled Task for Agent Restart - Create",keywords:["scheduled","task","vsa","agent","restart"],description:"This document outlines the process of creating a scheduled task that attempts to restart the VSA Agent every 15 minutes to ensure that VSA agents remain online and notify users of any issues. It includes sample run logs, dependencies, and the process involved in setting up the task.",tags:["performance","software","windows"],draft:!1,unlisted:!1},a=void 0,o={},i=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Process",id:"process",level:2},{value:"Output",id:"output",level:2},{value:"Export Attachment",id:"export-attachment",level:2}];function l(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(t.p,{children:"This document creates a scheduled task that attempts to restart the VSA Agent every 15 minutes to prevent VSA agents from going offline without notification."}),"\n",(0,r.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Time"}),(0,r.jsx)(t.th,{children:"Action"}),(0,r.jsx)(t.th,{children:"Status"}),(0,r.jsx)(t.th,{children:"User"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"13:49:09 28-Apr-22"}),(0,r.jsx)(t.td,{children:"Scheduled Task for Agent Restart - Create"}),(0,r.jsx)(t.td,{children:"Success THEN"}),(0,r.jsx)(t.td,{children:"provaltech.com/dan.hicks"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"13:49:08 28-Apr-22"}),(0,r.jsx)(t.td,{children:"Scheduled Task for Agent Restart - Create-0001"}),(0,r.jsx)(t.td,{children:"Batch file created successfully. Scheduling task."}),(0,r.jsx)(t.td,{children:"provaltech.com/dan.hicks"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"13:49:08 28-Apr-22"}),(0,r.jsx)(t.td,{children:"Write text to file"}),(0,r.jsx)(t.td,{children:"Success THEN"}),(0,r.jsx)(t.td,{children:"provaltech.com/dan.hicks"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"13:48:59 28-Apr-22"}),(0,r.jsx)(t.td,{children:"Run Now - Scheduled Task for Agent Restart - Create"}),(0,r.jsx)(t.td,{children:"Admin provaltech.com/dan.hicks scheduled procedure Run Now - Scheduled Task for Agent Restart - Create to run at Apr 28 2022 1:48 PM"}),(0,r.jsx)(t.td,{children:"provaltech.com/dan.hicks"})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsx)(t.p,{children:"This section should list the ITGlue documents found in the Related Items sidebar on which this script depends."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/proval-docs/docs/vsa/procedures/b4f78d3c-4c41-46eb-9fee-94b9f7d3caab",children:"VSA - Agent - Agent Procedure - Scheduled Task for Agent Restart - Remove"})}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"/proval-docs/docs/vsa/procedures/e028ad3f-fecc-4701-83b8-0537db4e8494",children:"Restart VSA Agent on Schedule"})," (Solution)"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"process",children:"Process"}),"\n",(0,r.jsxs)(t.p,{children:["This document creates a batch file on the endpoint that restarts the agent service (which needs to be configured per environment based on Service Name) and runs the ",(0,r.jsx)(t.code,{children:"schtask"})," command to schedule this check every 15 minutes as the system user."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Note:"})," ",(0,r.jsx)(t.code,{children:"#serviceName#"})," MUST be manually filled in for each client deployment."]}),"\n",(0,r.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,r.jsx)(t.p,{children:"This section describes the location and method by which this script returns data."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Agent Procedure Log"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"export-attachment",children:"Export Attachment"}),"\n",(0,r.jsx)(t.p,{children:"Attach the content XML VSA Export to this document."})]})}function h(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>a});var n=s(296540);const r={},d=n.createContext(r);function c(e){const t=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(d.Provider,{value:t},e.children)}}}]);