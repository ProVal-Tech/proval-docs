"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[45],{462901:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"cwa/monitors/c768b83d-adcf-4de8-8b4f-ac3d65679161","title":"Hyper-V Replication Status","description":"This document outlines a monitor set designed to detect Hyper-V hosts with problematic replication status for virtual machines. It provides insights into the replication state of virtual machines, troubleshooting steps, and details for ticketing when issues arise.","source":"@site/docs/cwa/monitors/Hyper-V Replication Status.md","sourceDirName":"cwa/monitors","slug":"/cwa/monitors/c768b83d-adcf-4de8-8b4f-ac3d65679161","permalink":"/proval-docs/docs/cwa/monitors/c768b83d-adcf-4de8-8b4f-ac3d65679161","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/monitors/Hyper-V Replication Status.md","tags":[{"inline":false,"label":"Backup","permalink":"/proval-docs/docs/tags/backup","description":"Documents detailing backup solutions and data protection strategies"},{"inline":false,"label":"Hyper-V","permalink":"/proval-docs/docs/tags/hyper-v","description":"Documents on Microsoft Hyper-V virtualization and management"},{"inline":false,"label":"Virtualization","permalink":"/proval-docs/docs/tags/virtualization","description":"Documents covering virtualization technologies and their applications"},{"inline":false,"label":"Windows","permalink":"/proval-docs/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"c768b83d-adcf-4de8-8b4f-ac3d65679161","title":"Hyper-V Replication Status","title_meta":"Hyper-V Replication Status","keywords":["hyper-v","replication","monitoring","virtualization","backup"],"description":"This document outlines a monitor set designed to detect Hyper-V hosts with problematic replication status for virtual machines. It provides insights into the replication state of virtual machines, troubleshooting steps, and details for ticketing when issues arise.","tags":["backup","hyper-v","virtualization","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Hyper-V Replication Status Approved","permalink":"/proval-docs/docs/cwa/monitors/f201b6f8-2844-484b-b3f8-79e1fd76e819"},"next":{"title":"HyperV - Snapshot Age  3 Days","permalink":"/proval-docs/docs/cwa/monitors/99c03451-d553-4cba-be15-fd19d1a922f4"}}');var s=i(474848),r=i(28453);const a={id:"c768b83d-adcf-4de8-8b4f-ac3d65679161",title:"Hyper-V Replication Status",title_meta:"Hyper-V Replication Status",keywords:["hyper-v","replication","monitoring","virtualization","backup"],description:"This document outlines a monitor set designed to detect Hyper-V hosts with problematic replication status for virtual machines. It provides insights into the replication state of virtual machines, troubleshooting steps, and details for ticketing when issues arise.",tags:["backup","hyper-v","virtualization","windows"],draft:!1,unlisted:!1},o=void 0,c={},l=[{value:"Summary",id:"summary",level:2},{value:"Details",id:"details",level:2},{value:"Target",id:"target",level:2},{value:"Ticketing",id:"ticketing",level:2},{value:"Implementation",id:"implementation",level:2}];function d(e){const t={a:"a",br:"br",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(t.p,{children:"The monitor set detects Hyper-V hosts with problematic replication status for virtual machines."}),"\n",(0,s.jsx)(t.p,{children:"The replication state/status of a virtual machine refers to the current status of the replication process for that virtual machine. In a virtualized environment, replication is used to create a duplicate copy of a virtual machine's data on another physical machine or storage location. This is done to provide redundancy and protect against data loss in case of hardware failure or other issues."}),"\n",(0,s.jsx)(t.p,{children:'If the replication state of a virtual machine is showing as "Critical" or "Warning", it may indicate that there is a problem with the replication process or that the replication target is not receiving updates. By monitoring this state, administrators can quickly identify and resolve these issues, ensuring the continued availability and integrity of their virtualized environments.'}),"\n",(0,s.jsx)(t.h2,{id:"details",children:"Details"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:'Suggested "Limit to"'}),": Hyper-V Host Servers.",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"Suggested Alert Style"}),": Once, Twice, etc.",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"Suggested Alert Template"}),": \u25b3 Custom - Ticket Creation - Computer"]}),"\n",(0,s.jsx)(t.p,{children:"Insert the details of the monitor in the table below."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Check Action"}),(0,s.jsx)(t.th,{children:"Server Address"}),(0,s.jsx)(t.th,{children:"Check Type"}),(0,s.jsx)(t.th,{children:"Execute Info"}),(0,s.jsx)(t.th,{children:"Comparator"}),(0,s.jsx)(t.th,{children:"Interval"}),(0,s.jsx)(t.th,{children:"Result"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"System"}),(0,s.jsx)(t.td,{children:"127.0.0.1"}),(0,s.jsx)(t.td,{children:"Run File"}),(0,s.jsx)(t.td,{children:"C:/Windows/System32/WindowsPowerShell/v1.0/powershell.exe -ExecutionPolicy Bypass -Command \"$ErroractionPreference= 'SilentlyContinue'; Get-VMReplication"}),(0,s.jsxs)(t.td,{children:["Where-Object {($",(0,s.jsx)(t.em,{children:".health -like 'Critical') -or ($"}),".health -like 'Warning')}"]}),(0,s.jsxs)(t.td,{children:['Foreach-Object {Write-Output "$( $',(0,s.jsx)(t.em,{children:".name) replication state: $( $"}),'.health)"}"']}),(0,s.jsx)(t.td,{children:"Does Not Contain"})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"target",children:"Target"}),"\n",(0,s.jsxs)(t.p,{children:["Windows Hyper-V Host",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.img,{alt:"Hyper-V Host",src:i(152328).A+"",width:"742",height:"389"})]}),"\n",(0,s.jsx)(t.h2,{id:"ticketing",children:"Ticketing"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Subject:"}),(0,s.jsx)(t.br,{}),"\n","Hyper-V Replication Failed on %CLIENTNAME%/%COMPUTERNAME%"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Body:"}),(0,s.jsx)(t.br,{}),"\n","The replication state of each problematic VM is outlined below:"]}),"\n",(0,s.jsx)(t.p,{children:"%RESULT%"}),"\n",(0,s.jsx)(t.p,{children:"This indicates that there is an issue with the replication process or with the replication target. Here are some basic troubleshooting steps that can help to address these issues:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Check the replication settings"}),": Ensure that the replication settings are configured correctly and that they are enabled for the virtual machine. Also, check that the replication target is configured correctly and is accessible."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Check the replication network"}),": Ensure that the replication network is functioning properly and that there are no issues with connectivity or bandwidth. Verify that firewalls and other security measures are not blocking replication traffic."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Check the health of the virtual machine"}),": Check the health of the virtual machine to ensure that it is not experiencing any issues that could affect replication. This includes checking for storage or network issues, as well as any errors or warnings in the virtual machine logs."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Check the replication logs"}),': Review the replication logs to identify any errors or warnings that could be causing the replication state to show as "Critical" or "Warning". This can help to pinpoint the source of the issue and guide further troubleshooting steps.']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Restart the replication process"}),": Try restarting the replication process to see if this resolves the issue. This can be done by stopping and starting the replication services or by disabling and re-enabling replication for the virtual machine."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example %RESULT%:"}),(0,s.jsx)(t.br,{}),"\n","TESTpub01 replication state: Critical",(0,s.jsx)(t.br,{}),"\n","TESTDHC01 replication state: Warning",(0,s.jsx)(t.br,{}),"\n","TESTDom01 replication state: Warning",(0,s.jsx)(t.br,{}),"\n","TESTSQL01 replication state: Critical",(0,s.jsx)(t.br,{}),"\n","TESTDNS01 replication state: Warning"]}),"\n",(0,s.jsx)(t.h2,{id:"implementation",children:"Implementation"}),"\n",(0,s.jsxs)(t.p,{children:["Please follow the article below for the implementation:",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.a,{href:"https://proval.itglue.com/5078775/docs/15601954",children:"Implementation Article"})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},152328:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_1-52ca5126e3ff39eef8584855e1645ace.png"},28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>o});var n=i(296540);const s={},r=n.createContext(s);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);