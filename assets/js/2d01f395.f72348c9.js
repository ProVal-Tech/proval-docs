"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[43323],{673019:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cwa/monitors/87d846e1-3f32-4e3d-b4f9-4c17d2d2830f","title":"Password URL Online Computer Finder","description":"This document outlines a method to monitor for online computers that match specific location passwords, allowing for targeted operations such as running health checks on Unifi systems. It includes SQL queries for data retrieval and dependencies on ITGlue documents.","source":"@site/docs/cwa/monitors/Password URL Online Computer Finder.md","sourceDirName":"cwa/monitors","slug":"/cwa/monitors/87d846e1-3f32-4e3d-b4f9-4c17d2d2830f","permalink":"/proval-docs/docs/cwa/monitors/87d846e1-3f32-4e3d-b4f9-4c17d2d2830f","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/monitors/Password URL Online Computer Finder.md","tags":[{"inline":false,"label":"Networking","permalink":"/proval-docs/docs/tags/networking","description":"Documents related to network infrastructure and management practices"},{"inline":false,"label":"SQL","permalink":"/proval-docs/docs/tags/sql","description":"Documents discussing Structured Query Language and database interactions"},{"inline":false,"label":"UniFi","permalink":"/proval-docs/docs/tags/unifi","description":"Documents about Ubiquiti UniFi networking products and management"}],"version":"current","frontMatter":{"id":"87d846e1-3f32-4e3d-b4f9-4c17d2d2830f","title":"Password URL Online Computer Finder","title_meta":"Password URL Online Computer Finder","keywords":["monitor","online","computer","location","password","unifi","health","check"],"description":"This document outlines a method to monitor for online computers that match specific location passwords, allowing for targeted operations such as running health checks on Unifi systems. It includes SQL queries for data retrieval and dependencies on ITGlue documents.","tags":["networking","sql","unifi"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Password Expires This Week G","permalink":"/proval-docs/docs/cwa/monitors/d002ff1b-cb8c-45db-af82-096e7912db2b"},"next":{"title":"Patch Config Mismatch","permalink":"/proval-docs/docs/cwa/monitors/0e230069-e0d6-49f6-ab3a-894f248f3f5b"}}');var o=t(474848),i=t(28453);const r={id:"87d846e1-3f32-4e3d-b4f9-4c17d2d2830f",title:"Password URL Online Computer Finder",title_meta:"Password URL Online Computer Finder",keywords:["monitor","online","computer","location","password","unifi","health","check"],description:"This document outlines a method to monitor for online computers that match specific location passwords, allowing for targeted operations such as running health checks on Unifi systems. It includes SQL queries for data retrieval and dependencies on ITGlue documents.",tags:["networking","sql","unifi"],draft:!1,unlisted:!1},a=void 0,c={},d=[{value:"Summary",id:"summary",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Target",id:"target",level:2},{value:"Translated SQL",id:"translated-sql",level:2}];function l(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(n.p,{children:"This monitor will find a computer that is online at a location that matches the first three octets of a location password URL with a matching password title in the monitor line 21."}),"\n",(0,o.jsx)(n.p,{children:"An example usage is to find an online computer at a location to run a Unifi Health Check script against."}),"\n",(0,o.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,o.jsx)(n.p,{children:"This section should list the ITGlue documents mentioned in the Related Items sidebar on which this monitor depends."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Autofix Script, if applicable"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"target",children:"Target"}),"\n",(0,o.jsx)(n.p,{children:"The suggested target for the monitor. This will be partially generalized as group names can vary between Automate systems. Examples:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Global"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"translated-sql",children:"Translated SQL"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"SELECT \r\n    MAX(computers.computerid) AS 'testvalue',\r\n    computers.name AS 'identityfield',\r\n    computers.computerid,\r\n    clients.name AS `clientname`,\r\n    locations.name AS `locationname`,\r\n    acd.uptimestart,\r\n    acd.uptimeend,\r\n    acd.noalerts\r\nFROM computers\r\nLEFT JOIN agentcomputerdata acd ON acd.computerid = computers.computerid\r\nLEFT JOIN locations ON locations.locationid = computers.locationid\r\nLEFT JOIN clients ON clients.clientid = computers.clientid\r\nLEFT JOIN passwords ON computers.locationid = passwords.locationid AND computers.localaddress LIKE (\r\n    SELECT CONCAT (\r\n        (SELECT \r\n            CONCAT(SUBSTRING_INDEX(passwords.url, '.', 1), '.', \r\n            SUBSTRING_INDEX(SUBSTRING_INDEX(passwords.url, '.', 2), '.', -1), '.', \r\n            SUBSTRING_INDEX(SUBSTRING_INDEX(passwords.url, '.', -2), '.', 1))\r\n        ), '.%')\r\n    )\r\nWHERE passwords.title = 'Unifi NVR'\r\nAND computers.LastContact > DATE_ADD(NOW(), INTERVAL -15 MINUTE)\r\nAND computers.os LIKE '%Windows%'\r\nGROUP BY computers.locationid\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(296540);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);