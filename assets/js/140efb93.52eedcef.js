"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[56917],{352782:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"cwa/scripts/0377d58a-ff6a-4e1c-8e7f-55b7f9dd2c78","title":"System Health Check & Repair [DISM, SFC]","description":"A comprehensive Windows system repair script that checks and restores system image integrity using DISM and repairs system files using SFC.","source":"@site/docs/cwa/scripts/system-health-check-and-repair.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/0377d58a-ff6a-4e1c-8e7f-55b7f9dd2c78","permalink":"/docs/cwa/scripts/0377d58a-ff6a-4e1c-8e7f-55b7f9dd2c78","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/system-health-check-and-repair.md","tags":[{"inline":false,"label":"Windows","permalink":"/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"},{"inline":false,"label":"Recovery","permalink":"/docs/tags/recovery","description":"Documents on data recovery and system restoration strategies"},{"inline":false,"label":"Diagnostic","permalink":"/docs/tags/diagnostic","description":"Documents focused on diagnosing and troubleshooting system issues"},{"inline":true,"label":"maintenance","permalink":"/docs/tags/maintenance"},{"inline":false,"label":"Cleanup","permalink":"/docs/tags/cleanup","description":"Documents on system cleanup processes and tools to free up resources"}],"version":"current","frontMatter":{"id":"0377d58a-ff6a-4e1c-8e7f-55b7f9dd2c78","title":"System Health Check & Repair [DISM, SFC]","title_meta":"System Health Check & Repair [DISM, SFC]","keywords":["DISM","SFC","Scan","Health","Check","Scan","Restore"],"description":"A comprehensive Windows system repair script that checks and restores system image integrity using DISM and repairs system files using SFC.","tags":["windows","recovery","diagnostic","maintenance","cleanup"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"MySQL - View - Create (plugin_proval_auto_approval_status)","permalink":"/docs/cwa/scripts/2f451b19-e8af-4a24-9032-17d65ba2b40d"},"next":{"title":"Toast Notification - Template","permalink":"/docs/cwa/scripts/e6115fa5-78ac-4b04-8b3f-d0dd0c2e559f"}}');var r=s(474848),i=s(28453);const a={id:"0377d58a-ff6a-4e1c-8e7f-55b7f9dd2c78",title:"System Health Check & Repair [DISM, SFC]",title_meta:"System Health Check & Repair [DISM, SFC]",keywords:["DISM","SFC","Scan","Health","Check","Scan","Restore"],description:"A comprehensive Windows system repair script that checks and restores system image integrity using DISM and repairs system files using SFC.",tags:["windows","recovery","diagnostic","maintenance","cleanup"],draft:!1,unlisted:!1},o=void 0,c={},l=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"User Parameters",id:"user-parameters",level:2},{value:"Sample Prompt",id:"sample-prompt",level:2},{value:"Output",id:"output",level:2},{value:"Sample Output",id:"sample-output",level:3}];function d(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"The script performs comprehensive Windows system health checks and repairs using DISM and SFC tools. The script executes the following commands in sequence:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DISM /Online /Cleanup-Image /CheckHealth"})," - Verifies if there are any corruption issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DISM /Online /Cleanup-Image /ScanHealth"})," - Performs a more advanced scan of system image"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DISM /Online /Cleanup-Image /RestoreHealth"})," - Fixes identified corruption issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sfc /scannow"})," - Scans and repairs protected system files"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"After completing all scans and repairs, the script handles system restart in one of two ways:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Automatic restart without prompting (default behavior)"}),"\n",(0,r.jsx)(n.li,{children:"Interactive mode where it prompts the user for restart confirmation when the parameter is set"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This script is particularly useful for maintaining system integrity and resolving Windows system file corruption issues."}),"\n",(0,r.jsx)(n.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example 1:"})," Running with interactive mode",(0,r.jsx)(n.br,{}),"\n","This example shows the script execution with the prompt parameter enabled, allowing user confirmation before restart.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.img,{alt:"Image1",src:s(564657).A+"",width:"476",height:"393"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example 2:"})," Running with automatic restart",(0,r.jsx)(n.br,{}),"\n","This example demonstrates the default behavior where the script automatically restarts the system after completion.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.img,{alt:"Image2",src:s(634490).A+"",width:"476",height:"396"})]}),"\n",(0,r.jsx)(n.h2,{id:"user-parameters",children:"User Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Example"}),(0,r.jsx)(n.th,{children:"Mandatory"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Prompt_For_Restart"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1"})}),(0,r.jsx)(n.td,{children:"False"}),(0,r.jsx)(n.td,{children:"Setting this parameter to 1 enables interactive reboot mode, where the script will prompt the user for restart confirmation instead of forcing an automatic system restart."})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"sample-prompt",children:"Sample Prompt"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Image3",src:s(435715).A+"",width:"773",height:"572"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Note:"})," The header image and icon displayed in the prompt will vary based on your environment."]}),"\n",(0,r.jsx)(n.h2,{id:"output",children:"Output"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Script Log"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-output",children:"Sample Output"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-Log",children:"Command: Dism /Online /Cleanup-Image /CheckHealth\r\n\r\nResult: \r\n\r\nDeployment Image Servicing and Management tool\r\nVersion: 10.0.19041.3636\r\nImage Version: 10.0.19045.5487\r\nNo component store corruption detected.\r\nThe operation completed successfully.\r\n\r\nCommand: Dism /Online /Cleanup-Image /ScanHealth\r\n\r\nResult: \r\n\r\nDeployment Image Servicing and Management tool\r\nVersion: 10.0.19041.3636\r\nImage Version: 10.0.19045.5487\r\n[==========================100.0%==========================] \r\nNo component store corruption detected.\r\nThe operation completed successfully.\r\n\r\nCommand: Dism /Online /Cleanup-Image /RestoreHealth\r\n\r\nResult: \r\n\r\nDeployment Image Servicing and Management tool\r\nVersion: 10.0.19041.3636\r\nImage Version: 10.0.19045.5487\r\n[==========================100.0%==========================] \r\nThe restore operation completed successfully.\r\nThe operation completed successfully.\r\n\r\nCommand: sfc /scannow\r\n\r\nResult:                                                              \r\n\r\nBeginning system scan.  This process will take some time.\r\n\r\nBeginning verification phase of system scan.\r\n\r\nVerification 100% complete.\r\n\r\nWindows Resource Protection did not find any integrity violations.\n"})})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},564657:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/Image1-d2f481bbede77f541ca119355e925df2.png"},634490:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/Image2-8f6c60a697ea43012a9ec78c8fd7f61f.png"},435715:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/Image3-44f1181ca461d2607441c8741a453892.png"},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(296540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);