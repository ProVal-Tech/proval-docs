"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[7377],{133825:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"vsa/custom-fields/34694743-10f7-4bfa-8a38-79ccf5c68c90","title":"External DNS - Domain Joined - Check","description":"This document outlines a procedure to verify if a machine is domain-joined and to check its DNS settings. It includes an example agent procedure log detailing the actions taken during the check and the outcomes of each action.","source":"@site/docs/vsa/custom-fields/External DNS - Domain Joined - Check.md","sourceDirName":"vsa/custom-fields","slug":"/vsa/custom-fields/34694743-10f7-4bfa-8a38-79ccf5c68c90","permalink":"/proval-docs/docs/vsa/custom-fields/34694743-10f7-4bfa-8a38-79ccf5c68c90","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/vsa/custom-fields/External DNS - Domain Joined - Check.md","tags":[{"inline":false,"label":"DNS","permalink":"/proval-docs/docs/tags/dns","description":"Documents focused on Domain Name System management and configuration"},{"inline":false,"label":"Domain","permalink":"/proval-docs/docs/tags/domain","description":"Documents related to managing domain names and services"},{"inline":false,"label":"Security","permalink":"/proval-docs/docs/tags/security","description":"Documents discussing security measures and practices for IT systems"},{"inline":false,"label":"Windows","permalink":"/proval-docs/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"34694743-10f7-4bfa-8a38-79ccf5c68c90","title":"External DNS - Domain Joined - Check","title_meta":"External DNS - Domain Joined - Check","keywords":["dns","domain","check","settings","machine","log"],"description":"This document outlines a procedure to verify if a machine is domain-joined and to check its DNS settings. It includes an example agent procedure log detailing the actions taken during the check and the outcomes of each action.","tags":["dns","domain","security","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"EPM - Data Collection - Custom Field- Azure AD Status","permalink":"/proval-docs/docs/vsa/custom-fields/ecddbc88-fbef-4678-b02b-2cc19b219fdc"},"next":{"title":"Get-PST Info","permalink":"/proval-docs/docs/vsa/custom-fields/74ed821b-9396-4153-b4f3-b556e777bbd5"}}');var t=n(474848),r=n(28453);const i={id:"34694743-10f7-4bfa-8a38-79ccf5c68c90",title:"External DNS - Domain Joined - Check",title_meta:"External DNS - Domain Joined - Check",keywords:["dns","domain","check","settings","machine","log"],description:"This document outlines a procedure to verify if a machine is domain-joined and to check its DNS settings. It includes an example agent procedure log detailing the actions taken during the check and the outcomes of each action.",tags:["dns","domain","security","windows"],draft:!1,unlisted:!1},c=void 0,l={},o=[{value:"Summary",id:"summary",level:2},{value:"Example Agent Procedure Log",id:"example-agent-procedure-log",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Output",id:"output",level:2}];function a(e){const d={a:"a",h2:"h2",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(d.p,{children:"This procedure checks to see if a machine is domain-joined and then verifies the DNS settings on the machine."}),"\n",(0,t.jsx)(d.h2,{id:"example-agent-procedure-log",children:"Example Agent Procedure Log"}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Time"}),(0,t.jsx)(d.th,{children:"Action"}),(0,t.jsx)(d.th,{children:"Status"}),(0,t.jsx)(d.th,{children:"User"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:36 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"External DNS - Domain Joined - Check"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:36 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"External DNS - Domain Joined - Check-0002"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:36 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"External DNS - Domain Joined - Check-0002"}),(0,t.jsx)(d.td,{children:"Updating custom field"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:36 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"External DNS - Domain Joined - Check-0001"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:36 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"External DNS - Domain Joined - Check-0001"}),(0,t.jsx)(d.td,{children:"Found DNS servers outside the private address space: 8.8.8.8"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:35 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:35 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0001"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:35 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0002"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:35 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0011"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:35 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0014"}),(0,t.jsx)(d.td,{children:"Success ELSE"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:35 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0014"}),(0,t.jsx)(d.td,{children:"Powershell command completed!"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0011"}),(0,t.jsx)(d.td,{children:'Executing 64-bit Powershell command as System: "" -command "%ProgramData%/_automation/AgentProcedure/ExternalDNS/ExternalDNS-Check.ps1" ""'}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0012"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0013"}),(0,t.jsx)(d.td,{children:"Success ELSE"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0013"}),(0,t.jsx)(d.td,{children:"Not sending output to variable."}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0003"}),(0,t.jsx)(d.td,{children:"Success ELSE"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0008"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0009"}),(0,t.jsx)(d.td,{children:"Success ELSE"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0010"}),(0,t.jsx)(d.td,{children:"Success ELSE"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0008"}),(0,t.jsx)(d.td,{children:"Custom commands detected as %ProgramData%/_automation/AgentProcedure/ExternalDNS/ExternalDNS-Check.ps1"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:32 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0003"}),(0,t.jsx)(d.td,{children:"No powershell file variable detected."}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:31 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command (64-bit, Run As System)-0002"}),(0,t.jsx)(d.td,{children:"Powershell is present."}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"External DNS - Domain Joined - Check"}),(0,t.jsx)(d.td,{children:"Deploying ExternalDNS-Check to endpoint"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0001"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0002"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0011"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0012"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0012"}),(0,t.jsxs)(d.td,{children:["Results returned to global variable #global",":psresult","# and saved in Documents tab of server."]}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0012"}),(0,t.jsxs)(d.td,{children:["Results returned to global variable #global",":psresult","# and saved in Documents tab of server."]}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:30 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0011"}),(0,t.jsx)(d.td,{children:"Powershell command completed!"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0011"}),(0,t.jsxs)(d.td,{children:['Executing powershell "" -Command "New-Item -Type Directory -Path $env',":ProgramData",'/_automation/AgentProcedure -name ExternalDNS" ""']}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0009"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0010"}),(0,t.jsx)(d.td,{children:"Success ELSE"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0010"}),(0,t.jsx)(d.td,{children:"Not sending output to variable."}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0007"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0008"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0008"}),(0,t.jsxs)(d.td,{children:['New command variable is: -Command "New-Item -Type Directory -Path $env',":ProgramData",'/_automation/AgentProcedure -name ExternalDNS"']}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0008"}),(0,t.jsxs)(d.td,{children:["Custom commands detected as New-Item -Type Directory -Path $env",":ProgramData","/_automation/AgentProcedure -name ExternalDNS"]}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0003"}),(0,t.jsx)(d.td,{children:"Success THEN"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:27 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0004"}),(0,t.jsx)(d.td,{children:"Success ELSE"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:22 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Execute Powershell Command-0002"}),(0,t.jsx)(d.td,{children:"Powershell is present."}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:21 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"External DNS - Domain Joined - Check"}),(0,t.jsx)(d.td,{children:"Creating folder for procedure"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:"1:40:14 pm 30-Aug-23"}),(0,t.jsx)(d.td,{children:"Run Now - External DNS - Domain Joined - Check"}),(0,t.jsx)(d.td,{children:"Admin derek.joniak scheduled procedure Run Now - External DNS - Domain Joined - Check to run at Aug 30 2023 2:40 PM"}),(0,t.jsx)(d.td,{children:"derek.joniak"})]})]})]}),"\n",(0,t.jsx)(d.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.a,{href:"https://proval.itglue.com/DOC-5078775-13761628",children:"Documentation Link"})}),"\n",(0,t.jsx)(d.h2,{id:"output",children:"Output"}),"\n",(0,t.jsx)(d.p,{children:"Procedure log files and other outputs."})]})}function h(e={}){const{wrapper:d}={...(0,r.R)(),...e.components};return d?(0,t.jsx)(d,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,d,n)=>{n.d(d,{R:()=>i,x:()=>c});var s=n(296540);const t={},r=s.createContext(t);function i(e){const d=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(r.Provider,{value:d},e.children)}}}]);