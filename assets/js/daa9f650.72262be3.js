"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[38935],{705609:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"cwa/scripts/eb434aae-87c4-4315-bf73-202a41ff3a96","title":"Unsynced Tickets","description":"This document outlines a script that sends an email notification about tickets that failed to sync with PSA in the past specified hours. It details requirements, global parameters, and system properties necessary for the script to function effectively.","source":"@site/docs/cwa/scripts/Unsynced Tickets.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/eb434aae-87c4-4315-bf73-202a41ff3a96","permalink":"/docs/cwa/scripts/eb434aae-87c4-4315-bf73-202a41ff3a96","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/Unsynced Tickets.md","tags":[{"inline":false,"label":"Email","permalink":"/docs/tags/email","description":"Documents about email systems and their management"}],"version":"current","frontMatter":{"id":"eb434aae-87c4-4315-bf73-202a41ff3a96","title":"Unsynced Tickets","title_meta":"Unsynced Tickets","keywords":["email","ticket","sync","notification","automate"],"description":"This document outlines a script that sends an email notification about tickets that failed to sync with PSA in the past specified hours. It details requirements, global parameters, and system properties necessary for the script to function effectively.","tags":["email"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Unquoted Service Paths Detection","permalink":"/docs/cwa/scripts/2dd77709-9172-4cbe-94cc-b5f664f2f2ce"},"next":{"title":"Update Agent - All OS","permalink":"/docs/cwa/scripts/803b51b1-d17f-429c-835d-55712c49e75e"}}');var n=s(474848),r=s(28453);const l={id:"eb434aae-87c4-4315-bf73-202a41ff3a96",title:"Unsynced Tickets",title_meta:"Unsynced Tickets",keywords:["email","ticket","sync","notification","automate"],description:"This document outlines a script that sends an email notification about tickets that failed to sync with PSA in the past specified hours. It details requirements, global parameters, and system properties necessary for the script to function effectively.",tags:["email"],draft:!1,unlisted:!1},c=void 0,a={},d=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Variables",id:"variables",level:2},{value:"Global Parameters",id:"global-parameters",level:3},{value:"System Properties",id:"system-properties",level:3},{value:"Output",id:"output",level:2},{value:"Email",id:"email",level:2}];function o(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,n.jsxs)(t.p,{children:["The purpose of the script is to send an email with information about all the tickets that failed to sync with PSA in the past ",(0,n.jsx)(t.strong,{children:"X"})," hours. ",(0,n.jsx)(t.strong,{children:"X"})," is the number of hours set for the Global Parameter ",(0,n.jsx)(t.code,{children:"Threshold"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Requirements:"})}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Ticket Sync should be enabled in the CW Manage Plugin."}),"\n",(0,n.jsxs)(t.li,{children:["The System Property 'Unsynced_Ticket_Email_Address' ",(0,n.jsx)(t.strong,{children:"MUST be manually created"}),". The script will NOT function without this property."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Note:"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"All locations and clients that are 'Ignored' within the Manage Plugin will NOT report unsynced tickets for those locations/clients."}),"\n",(0,n.jsx)(t.li,{children:"It will detect the tickets that were generated at least 15 minutes ago to avoid false positives."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Remove the internal monitor ",(0,n.jsx)(t.a,{href:"https://proval.itglue.com/5078775/docs/8030159",children:(0,n.jsx)(t.strong,{children:"ProVal - Production - Automate - Ticket Sync Unsuccessful"})})," from the partner's environment before implementing this script."]}),"\n",(0,n.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,n.jsxs)(t.p,{children:["It is a client script and should be scheduled to run once per ",(0,n.jsx)(t.strong,{children:"X"})," hours. ",(0,n.jsx)(t.strong,{children:"X"})," is the number of hours set for the script's Global Parameter ",(0,n.jsx)(t.code,{children:"Threshold"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Sample Run Image 1",src:s(217834).A+"",width:"448",height:"219"})}),"\n",(0,n.jsxs)(t.p,{children:["Schedule:\r\n",(0,n.jsx)(t.img,{alt:"Sample Run Image 2",src:s(166817).A+"",width:"1000",height:"350"})]}),"\n",(0,n.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Email"}),(0,n.jsx)(t.td,{children:"Email Address(es) to send the Email"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Subject"}),(0,n.jsx)(t.td,{children:"Email Subject"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Body"}),(0,n.jsx)(t.td,{children:"Email Content"})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"global-parameters",children:"Global Parameters"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Default"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Threshold"}),(0,n.jsx)(t.td,{children:"2"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"Number of past hours to check the unsynced tickets from."})]})})]}),"\n",(0,n.jsx)(t.h3,{id:"system-properties",children:"System Properties"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Example"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Unsynced_Ticket_Email_Address"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"mailto:example@example.com",children:"example@example.com"})}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"Address(es) to send the email. Multiple addresses should be separated by a semicolon (;)."})]})})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Examples:"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Single Email Address:\r\n",(0,n.jsx)(t.img,{alt:"Single Email Example",src:s(894104).A+"",width:"1000",height:"210"})]}),"\n",(0,n.jsxs)(t.li,{children:["Multiple Email Addresses:\r\n",(0,n.jsx)(t.img,{alt:"Multiple Email Example",src:s(473719).A+"",width:"1000",height:"197"})]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Note:"})," The script will not create the system property. Hence, this system property should be created before scheduling/running the script. Otherwise, the script will not work."]}),"\n",(0,n.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Email"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"email",children:"Email"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Subject:"})," ",(0,n.jsx)(t.code,{children:"\\<Count of Unsynced Tickets> Tickets failed to sync from Automate to the PSA"})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Body:"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"There were \\<Count of Unsynced Tickets> tickets that failed to sync to the PSA in the past \\<Threshold> hour(s). Their details have been outlined below:\r\n\r\nClient: \\<Client Name> (\\<ClientID>)\r\nComputer: \\<Computer Name> (\\<ComputerID>)\r\nCWA Ticket #: \\<CW Automate TicketID>\r\nTicket Subject: \\<Ticket Subject>\r\nTicket Creation Date: \\<Ticket Creation Date>\r\nTicket Status: \\<Ticket Status>\r\nTicket Body: \\<Ticket Body>\n"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Sample Screenshot:"}),"\r\n",(0,n.jsx)(t.img,{alt:"Sample Screenshot",src:s(78).A+"",width:"558",height:"1000"})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},217834:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_1-c857881bc26edf364670b97493f9e514.png"},166817:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_2-4ba9b547442bab830694d87ee0eefe22.png"},894104:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_3-265044dd6d50b049cee9c6198f104cae.png"},473719:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_4-50b358a51427f16b742048132bab9447.png"},78:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_5-b99cee4869230b60dd4d5d8e6b01d808.png"},28453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>c});var i=s(296540);const n={},r=i.createContext(n);function l(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);