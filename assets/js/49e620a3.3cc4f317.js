"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[21185],{177087:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"cwa/monitors/ce8d5706-137b-4a55-8a8b-5041e35421de","title":"DHCP Scope(s) 25 and 20 Percent IP Addresses Available","description":"This document outlines a remote monitor designed to retrieve information about active DHCP server scopes and their IP address statistics. It identifies DHCP servers with insufficient available IP addresses, alerting when active scopes have less than 20 IP addresses or 25% availability. The monitor considers reserved percentages for DHCP failover scopes and ensures both conditions are met before triggering an alert.","source":"@site/docs/cwa/monitors/DHCP Scope(s) 25 and 20 Percent IP Addresses Available.md","sourceDirName":"cwa/monitors","slug":"/cwa/monitors/ce8d5706-137b-4a55-8a8b-5041e35421de","permalink":"/docs/cwa/monitors/ce8d5706-137b-4a55-8a8b-5041e35421de","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/monitors/DHCP Scope(s) 25 and 20 Percent IP Addresses Available.md","tags":[{"inline":false,"label":"Networking","permalink":"/docs/tags/networking","description":"Documents related to network infrastructure and management practices"},{"inline":false,"label":"Windows","permalink":"/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"ce8d5706-137b-4a55-8a8b-5041e35421de","title":"DHCP Scope(s) 25 and 20 Percent IP Addresses Available","title_meta":"DHCP Scope(s) 25 and 20 Percent IP Addresses Available","keywords":["dhcp","monitor","ip","addresses","alert"],"description":"This document outlines a remote monitor designed to retrieve information about active DHCP server scopes and their IP address statistics. It identifies DHCP servers with insufficient available IP addresses, alerting when active scopes have less than 20 IP addresses or 25% availability. The monitor considers reserved percentages for DHCP failover scopes and ensures both conditions are met before triggering an alert.","tags":["networking","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"DHCP Scope(s) 25 Percent IP Addresses Available","permalink":"/docs/cwa/monitors/2cfde48c-aa83-4990-83bd-cb768c882081"},"next":{"title":"DNS Service Check","permalink":"/docs/cwa/monitors/200c48e8-a828-43da-8ae5-f31a3280893b"}}');var r=t(474848),i=t(28453);const a={id:"ce8d5706-137b-4a55-8a8b-5041e35421de",title:"DHCP Scope(s) 25 and 20 Percent IP Addresses Available",title_meta:"DHCP Scope(s) 25 and 20 Percent IP Addresses Available",keywords:["dhcp","monitor","ip","addresses","alert"],description:"This document outlines a remote monitor designed to retrieve information about active DHCP server scopes and their IP address statistics. It identifies DHCP servers with insufficient available IP addresses, alerting when active scopes have less than 20 IP addresses or 25% availability. The monitor considers reserved percentages for DHCP failover scopes and ensures both conditions are met before triggering an alert.",tags:["networking","windows"],draft:!1,unlisted:!1},o=void 0,d={},c=[{value:"Summary",id:"summary",level:2},{value:"Details",id:"details",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Target",id:"target",level:2},{value:"Ticketing",id:"ticketing",level:2},{value:"Note",id:"note",level:2},{value:"Monitor&#39;s Screenshot",id:"monitors-screenshot",level:2},{value:"How to Import",id:"how-to-import",level:2}];function l(e){const s={a:"a",br:"br",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(s.p,{children:"The remote monitor retrieves information about DHCP server scopes and their corresponding IP address statistics. It filters out inactive scopes and focuses only on active ones. The monitor then checks the number or percentage of available IP addresses within each active scope and identifies those with less than or equal to 20 and 25% of available IP addresses."}),"\n",(0,r.jsx)(s.p,{children:"In other words, it detects DHCP servers with any active DHCP scope that has less than 20 IP addresses and 25% of IP addresses available at the same time. It ensures both conditions are true before alerting."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Requirement:"})," PowerShell v5+ (Server 2016+)"]}),"\n",(0,r.jsx)(s.p,{children:"The remote monitor takes into account the reserved percentage for the DHCP failover scopes, and it will not trigger an alert for the standby DHCP server."}),"\n",(0,r.jsx)(s.h2,{id:"details",children:"Details"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:'Suggested "Limit to":'})," Windows DHCP Servers",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.strong,{children:"Suggested Alert Style:"})," Once",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.strong,{children:"Suggested Alert Template:"})," \u25b3 Custom - Ticket Creation - Computer"]}),"\n",(0,r.jsx)(s.p,{children:"Insert the details of the monitor in the table below."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Check Action"}),(0,r.jsx)(s.th,{children:"Server Address"}),(0,r.jsx)(s.th,{children:"Check Type"}),(0,r.jsx)(s.th,{children:"Execute Info"}),(0,r.jsx)(s.th,{children:"Comparator"}),(0,r.jsx)(s.th,{children:"Interval"}),(0,r.jsx)(s.th,{children:"Result"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"System"}),(0,r.jsx)(s.td,{children:"127.0.0.1"}),(0,r.jsx)(s.td,{children:"Run File"}),(0,r.jsx)(s.td,{children:"REDACTED"}),(0,r.jsx)(s.td,{children:"Regex Match"}),(0,r.jsx)(s.td,{children:"3600"}),(0,r.jsx)(s.td,{children:"<Screenshot Below>"})]})})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Screenshot",src:t(442284).A+"",width:"1000",height:"126"})}),"\n",(0,r.jsx)(s.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/docs/cwa/scripts/63beba3c-f4a6-41a5-98e2-d4e4ce885035",children:"CWM - Automate - Script - Ticket Creation - Computer"})}),"\n",(0,r.jsx)(s.h2,{id:"target",children:"Target"}),"\n",(0,r.jsx)(s.p,{children:"Service Plans. Windows Servers. Server Roles. Windows Servers Core Services. Windows DHCP Servers"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Target Image",src:t(861287).A+"",width:"972",height:"502"})}),"\n",(0,r.jsx)(s.h2,{id:"ticketing",children:"Ticketing"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Subject:"})," ",(0,r.jsx)(s.code,{children:"DHCP Scope(s) with Insufficient IP Addresses Detected on %computername%"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Ticket Summary:"}),(0,r.jsx)(s.br,{}),"\n","Active DHCP scope(s) with less than 25% and 20 available IP addresses detected on %ClientName%/%ComputerName% at %LocationName%.",(0,r.jsx)(s.br,{}),"\n","This could potentially lead to IP address allocation problems and network connectivity issues for users. Immediate action should be taken to ensure sufficient IP addresses are available within the DHCP scopes to prevent any network disruptions. Please investigate the DHCP server configuration and take the necessary steps to address this issue. Potential solutions could include expanding IP address ranges, optimizing IP address allocation, or adding additional DHCP servers."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Affected Scope(s) details:"}),(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.code,{children:"%RESULT%"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"%RESULT%:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"scopeid    : \\<scopeid>\r\nstartrange : \\<startrange>\r\nendrange   : \\<endrange>\r\nfree       : \\<free ip addresses>\r\ninuse      : \\<ip addresses in use>\r\nReserved   : \\<reserved ip addresses>\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"scopeid    : 10.10.0.0\r\nstartrange : 10.10.0.100\r\nendrange   : 10.10.0.200\r\nfree       : 51\r\ninuse      : 50\r\nReserved   : 4\n"})}),"\n",(0,r.jsx)(s.h2,{id:"note",children:"Note"}),"\n",(0,r.jsxs)(s.p,{children:["The monitor set is available for import in our (ProVal's) Development environment within the ",(0,r.jsx)(s.code,{children:"ProVal Submitted - Remote Monitors"})," Group."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Note Image",src:t(108798).A+"",width:"1000",height:"461"})}),"\n",(0,r.jsx)(s.h2,{id:"monitors-screenshot",children:"Monitor's Screenshot"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.img,{alt:"Monitor Screenshot 1",src:t(275537).A+"",width:"1000",height:"318"}),(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.img,{alt:"Monitor Screenshot 2",src:t(281672).A+"",width:"1000",height:"322"})]}),"\n",(0,r.jsx)(s.h2,{id:"how-to-import",children:"How to Import"}),"\n",(0,r.jsxs)(s.p,{children:["Please adhere to the guidelines provided in the article ",(0,r.jsx)(s.a,{href:"https://proval.itglue.com/DOC-5078775-15408683",children:"Import - Remote Monitor - DHCP Scope(s) < 25% and 20 IP Addresses Available"})]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},442284:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/image_1-283b780627de9bc87d21be7208c4b25e.png"},861287:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/image_2-4daf692599e261c8b842e694bef81dda.png"},108798:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/image_3-812ea519c696e0c5de401c4ec36d4e24.png"},275537:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/image_4-da1dbf3cf423ea20669c43f96063cf07.png"},281672:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/image_5-87c56791d551888c256d8d25a653cd22.png"},28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>o});var n=t(296540);const r={},i=n.createContext(r);function a(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);