"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[4796],{748683:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"cwa/scripts/99a31695-f399-4982-989b-5fbc3aada8c6","title":"DUO InstallUpgrade - Latest Version","description":"This document provides a comprehensive guide on installing or updating DUO Authentication for Windows. The script checks for the latest version, verifies the installer\u2019s hash, and outlines the necessary configurations and parameters for successful deployment.","source":"@site/docs/cwa/scripts/DUO InstallUpgrade - Latest Version.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/99a31695-f399-4982-989b-5fbc3aada8c6","permalink":"/proval-docs/docs/cwa/scripts/99a31695-f399-4982-989b-5fbc3aada8c6","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/DUO InstallUpgrade - Latest Version.md","tags":[{"inline":false,"label":"Update","permalink":"/proval-docs/docs/tags/update","description":"Documents discussing software and system updates and their management"},{"inline":false,"label":"Windows","permalink":"/proval-docs/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"99a31695-f399-4982-989b-5fbc3aada8c6","title":"DUO InstallUpgrade - Latest Version","title_meta":"DUO InstallUpgrade - Latest Version","keywords":["duo","authentication","windows","installer","update"],"description":"This document provides a comprehensive guide on installing or updating DUO Authentication for Windows. The script checks for the latest version, verifies the installer\u2019s hash, and outlines the necessary configurations and parameters for successful deployment.","tags":["update","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"DUO Auth Proxy - InstallUpdate Latest Version Global, Autofix","permalink":"/proval-docs/docs/cwa/scripts/775e0b37-b55c-47fb-bec6-a01314ac123f"},"next":{"title":"Database size increased by 5 Percent Global","permalink":"/proval-docs/docs/cwa/scripts/1e7111ed-fd09-4b58-bc4b-becb2dc3c8e0"}}');var n=s(474848),r=s(28453);const l={id:"99a31695-f399-4982-989b-5fbc3aada8c6",title:"DUO InstallUpgrade - Latest Version",title_meta:"DUO InstallUpgrade - Latest Version",keywords:["duo","authentication","windows","installer","update"],description:"This document provides a comprehensive guide on installing or updating DUO Authentication for Windows. The script checks for the latest version, verifies the installer\u2019s hash, and outlines the necessary configurations and parameters for successful deployment.",tags:["update","windows"],draft:!1,unlisted:!1},o=void 0,a={},d=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Requirements",id:"requirements",level:2},{value:"EDFs",id:"edfs",level:2},{value:"Variables",id:"variables",level:2},{value:"Global Variables",id:"global-variables",level:2},{value:"User Parameters",id:"user-parameters",level:2},{value:"Output",id:"output",level:2}];function c(e){const t={a:"a",br:"br",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,n.jsxs)(t.p,{children:["This script will install or update DUO if the currently installed instance is older than the latest released version.",(0,n.jsx)(t.br,{}),"\n","The script matches the hash of the installer from the official website before deploying it.",(0,n.jsx)(t.br,{}),"\n","It downloads the latest installer from ",(0,n.jsx)(t.a,{href:"https://dl.duosecurity.com/duo-win-login-latest.exe",children:"https://dl.duosecurity.com/duo-win-login-latest.exe"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"First Run:"})," Run the script against any online Windows machine with the ",(0,n.jsx)(t.code,{children:"Set_Environment"})," parameter set to ",(0,n.jsx)(t.code,{children:"1"})," to create the EDFs used by the solution.",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.img,{alt:"First Run",src:s(505210).A+"",width:"485",height:"400"})]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Regular Execution:"}),(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.img,{alt:"Regular Execution",src:s(681457).A+"",width:"484",height:"404"})]}),"\n",(0,n.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Specific EDF values must be set for this to work properly"}),(0,n.jsx)(t.br,{}),"\n","The EDFs used are:"]}),"\n",(0,n.jsxs)(t.p,{children:["Client-Level:",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.img,{alt:"Client-Level EDF",src:s(233064).A+"",width:"774",height:"554"})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"EDFs in box 1 are used with the ExtraDataGet function and will be imported with the script."}),"\n",(0,n.jsxs)(t.li,{children:["EDFs in section 2 will not be imported with the script and are necessary to define the value of the ",(0,n.jsx)(t.code,{children:"@Arguments@"})," variable."]}),"\n",(0,n.jsxs)(t.li,{children:["To import all the EDFs present in section 2, run the script against any online Windows machine with the ",(0,n.jsx)(t.code,{children:"Set_Environment"})," parameter set to ",(0,n.jsx)(t.code,{children:"1"}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Overrides should be set at the computer level, as shown below:"}),(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.img,{alt:"Overrides",src:s(812679).A+"",width:"668",height:"479"})]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Exclusions EDFs:"}),(0,n.jsx)(t.br,{}),"\n","Client Exclusion EDF:",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.img,{alt:"Client Exclusion EDF",src:s(636894).A+"",width:"554",height:"301"})]}),"\n",(0,n.jsxs)(t.p,{children:["Location Exclusion EDF:",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.img,{alt:"Location Exclusion EDF",src:s(473621).A+"",width:"1000",height:"181"})]}),"\n",(0,n.jsxs)(t.p,{children:["Computer Exclusion EDF:",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.img,{alt:"Computer Exclusion EDF",src:s(561996).A+"",width:"855",height:"502"})]}),"\n",(0,n.jsx)(t.p,{children:"Exclusions EDFs are used with the ExtraDataGet function and will be imported with the script."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"edfs",children:"EDFs"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AUTOPUSH"}),(0,n.jsx)(t.td,{children:"False"}),(0,n.jsx)(t.td,{children:'If set to "Yes", this option will automatically send a push request to the user\u2019s device when they attempt to log in. The default value is blank, which requires the user to manually request the push.'})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"FAILOPEN"}),(0,n.jsx)(t.td,{children:"False"}),(0,n.jsx)(t.td,{children:'This determines the behavior when Duo\u2019s service cannot be reached. If set to "Yes", the system will allow the user to log in (fail open). If set to "No" or left blank, the system will deny access (fail closed). The default is to fail closed.'})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"RDPONLY"}),(0,n.jsx)(t.td,{children:"False"}),(0,n.jsx)(t.td,{children:'When set to "Yes", Duo authentication is required only for remote logins via RDP. If set to "No" or left blank, Duo authentication is required for both console and RDP logins. The default is blank, meaning Duo protects both.'})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"SMARTCARD"}),(0,n.jsx)(t.td,{children:"False"}),(0,n.jsx)(t.td,{children:'If set to "Yes", it allows smart card login as an alternative to Duo authentication. If set to "No" or left blank, it disables the Windows smart card provider. The default is blank, which does not allow smart card login without Duo approval.'})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ENABLEOFFLINE"}),(0,n.jsx)(t.td,{children:"False"}),(0,n.jsx)(t.td,{children:'If set to "Yes", it will control whether offline access is permitted. In the context of Duo, offline access allows users to authenticate without a real-time connection to Duo\u2019s service, usually by using previously generated passcodes or other offline methods.'})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IKEY"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"This is a unique identifier for your integration with Duo\u2019s service. It\u2019s used to link the authentication requests from your application to the correct Duo account. You can find the IKEY in your Duo Admin Panel under the application\u2019s properties page."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"SKEY"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"This is a sensitive piece of information, akin to a password, used in conjunction with the IKEY. The SKEY is used to sign communication between your application and Duo\u2019s service securely. It\u2019s crucial to keep this key confidential to prevent unauthorized access."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"HKEY"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"The Host Key or API Hostname, which is the endpoint in Duo\u2019s service that your application communicates with. This hostname is also found in the Duo Admin Panel and is necessary for setting up the integration."})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["Note: These arguments are passed during the installation process to set up the desired configuration for how Duo Authentication will operate on the Windows system. It\u2019s important to note that the parameter names are case-sensitive.",(0,n.jsx)(t.br,{}),"\n","Here\u2019s an example of how you might use these arguments in a command to install Duo Authentication for Windows Logon:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'duo-win-login-latest.exe /S /V"/qn IKEY=\\"Your_IKEY\\" SKEY=\\"Your_SKEY\\" HOST=\\"Your_HOST\\" AUTOPUSH=\\"#1\\" FAILOPEN=\\"#1\\" SMARTCARD=\\"#1\\" RDPONLY=\\"#0\\""\n'})}),"\n",(0,n.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Host"}),(0,n.jsx)(t.td,{children:"To store the value of the Client level EDF, DUO HOST"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"SKEY"}),(0,n.jsx)(t.td,{children:"To store the value of the Client level EDF, DUO SKEY"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IKEY"}),(0,n.jsx)(t.td,{children:"To store the value of the Client level EDF, DUO IKEY"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Arguments"}),(0,n.jsx)(t.td,{children:'Arguments to be passed to the command, calculated by a SQL query based on the client and computer level "DUO - *" EDFs.'})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DuoFileName"}),(0,n.jsxs)(t.td,{children:["Name of the file present at ",(0,n.jsx)(t.a,{href:"https://dl.duosecurity.com/duo-win-login-latest.exe",children:"https://dl.duosecurity.com/duo-win-login-latest.exe"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"FileMajorVersion"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"@DuoFileName@"})," will come along with a numeric version, and that version is extracted and stored to the FileMajorVersion"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"RawHash"}),(0,n.jsxs)(t.td,{children:["Hash value for the ",(0,n.jsx)(t.code,{children:"@DuoFileName@"})," at ",(0,n.jsx)(t.a,{href:"https://duo.com/docs/checksums#duo-windows-logon",children:"https://duo.com/docs/checksums#duo-windows-logon"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"FileHash"}),(0,n.jsxs)(t.td,{children:["Hash value for the file downloaded from ",(0,n.jsx)(t.a,{href:"https://dl.duosecurity.com/duo-win-login-latest.exe",children:"https://dl.duosecurity.com/duo-win-login-latest.exe"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ApplicationVersion"}),(0,n.jsxs)(t.td,{children:["Version of the file downloaded from ",(0,n.jsx)(t.a,{href:"https://dl.duosecurity.com/duo-win-login-latest.exe",children:"https://dl.duosecurity.com/duo-win-login-latest.exe"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"InstallComparison"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"@ApplicationVersion@"})," is compared with the version of the currently installed instance to determine whether DUO is Not Installed, Out Of Date, or Up To Date."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"%shellresult%"}),(0,n.jsx)(t.td,{children:"Outcome of the installation command executed"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"global-variables",children:"Global Variables"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Example"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"OutFile"}),(0,n.jsx)(t.td,{children:"C%3A%5CWindows%5CLTSvc%5CPackages%5CDuoInstaller.exe"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"Full path to download DUOInstaller.exe"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"OutFolder"}),(0,n.jsx)(t.td,{children:"C%3A%5CWindows%5CLTSvc%5CPackages"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"Folder to store the DUOInstaller.exe"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"user-parameters",children:"User Parameters"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Example"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Set_Environment"}),(0,n.jsx)(t.td,{children:"1"}),(0,n.jsx)(t.td,{children:"True (for first execution)"}),(0,n.jsxs)(t.td,{children:["Run the script with the ",(0,n.jsx)(t.code,{children:"Set_Environment"})," parameter set to ",(0,n.jsx)(t.strong,{children:"1"})," to create the EDFs used by the solution."]})]})})]}),"\n",(0,n.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Script log"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},505210:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_1-65c46953183a99335d206bccb07b570e.png"},681457:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_2-9e0e4232741c8c5a4f053b9d28ed0b1c.png"},233064:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_3-0d813f5a39390ba603a4dd87399fac89.png"},812679:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_4-d67d92a244628b9d4aace94f6b85f6dc.png"},636894:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_5-5d9b576c4808513979b27a09e0908b7a.png"},473621:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_6-75ee4603580cda275e373570b3ee8b10.png"},561996:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_7-4d8426d22112a72dbb142d7e9c47aa06.png"},28453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>o});var i=s(296540);const n={},r=i.createContext(n);function l(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);