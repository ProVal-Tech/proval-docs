"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[34552],{969477:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"cwa/monitors/b0d63a21-0540-43a1-9269-079d3bfaa48d","title":"Update Orchestrator - Reboot Prevention [Change]","description":"This document describes a monitor that renames the reboot file used by the Windows Update Orchestrator to prevent unwanted reboots. It also ensures that the UsoSvc service is enabled and running, providing a safeguard against interruptions caused by automatic updates.","source":"@site/docs/cwa/monitors/Update Orchestrator - Reboot Prevention Change.md","sourceDirName":"cwa/monitors","slug":"/cwa/monitors/b0d63a21-0540-43a1-9269-079d3bfaa48d","permalink":"/docs/cwa/monitors/b0d63a21-0540-43a1-9269-079d3bfaa48d","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/monitors/Update Orchestrator - Reboot Prevention Change.md","tags":[{"inline":false,"label":"Security","permalink":"/docs/tags/security","description":"Documents discussing security measures and practices for IT systems"},{"inline":false,"label":"Update","permalink":"/docs/tags/update","description":"Documents discussing software and system updates and their management"},{"inline":false,"label":"Windows","permalink":"/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"b0d63a21-0540-43a1-9269-079d3bfaa48d","title":"Update Orchestrator - Reboot Prevention [Change]","title_meta":"Update Orchestrator - Reboot Prevention [Change]","keywords":["monitor","windows","update","orchestrator","service"],"description":"This document describes a monitor that renames the reboot file used by the Windows Update Orchestrator to prevent unwanted reboots. It also ensures that the UsoSvc service is enabled and running, providing a safeguard against interruptions caused by automatic updates.","tags":["security","update","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Unresponsive Huntress Agents","permalink":"/docs/cwa/monitors/3c75f8e7-6237-4349-97bb-462fe8d70b54"},"next":{"title":"Update Orchestrator Service Status Detection","permalink":"/docs/cwa/monitors/e3c5aeb1-144d-4c12-9b33-2d56d05804ce"}}');var s=n(474848),o=n(28453);const a={id:"b0d63a21-0540-43a1-9269-079d3bfaa48d",title:"Update Orchestrator - Reboot Prevention [Change]",title_meta:"Update Orchestrator - Reboot Prevention [Change]",keywords:["monitor","windows","update","orchestrator","service"],description:"This document describes a monitor that renames the reboot file used by the Windows Update Orchestrator to prevent unwanted reboots. It also ensures that the UsoSvc service is enabled and running, providing a safeguard against interruptions caused by automatic updates.",tags:["security","update","windows"],draft:!1,unlisted:!1},i=void 0,d={},c=[{value:"Summary",id:"summary",level:2},{value:"What will change?",id:"what-will-change",level:3},{value:"Details",id:"details",level:2},{value:"Target",id:"target",level:2},{value:"Ticketing",id:"ticketing",level:2},{value:"Implementation",id:"implementation",level:2}];function l(e){const t={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(t.p,{children:["The monitor set renames the reboot file at ",(0,s.jsx)(t.code,{children:"C:/Windows/System32/Tasks/Microsoft/Windows/UpdateOrchestrator/reboot"})," in order to prevent the Windows Update Orchestrator service from rebooting the computer. It will also enable the ",(0,s.jsx)(t.code,{children:"UsoSvc"})," service if it's disabled."]}),"\n",(0,s.jsx)(t.h3,{id:"what-will-change",children:"What will change?"}),"\n",(0,s.jsxs)(t.p,{children:["This monitor will rename the reboot file at",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.code,{children:"C:/Windows/System32/Tasks/Microsoft/Windows/UpdateOrchestrator/reboot"}),(0,s.jsx)(t.br,{}),"\n","and keep the Windows Update Orchestrator Service enabled and running."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:"This action will happen regardless of what alert template is set against the monitor."}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Monitors that make a change to the environment can be difficult to audit actions taken. Use with caution."})]}),"\n",(0,s.jsx)(t.h2,{id:"details",children:"Details"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:'Suggested "Limit to"'}),": Update Orchestrator - UsoSvc",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"Suggested Alert Style"}),": Once",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"Suggested Alert Template"}),": Default - Create Automate Ticket"]}),"\n",(0,s.jsx)(t.p,{children:"Insert the details of the monitor in the table below."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Check Action"}),(0,s.jsx)(t.th,{children:"Server Address"}),(0,s.jsx)(t.th,{children:"Check Type"}),(0,s.jsx)(t.th,{children:"Execute Info"}),(0,s.jsx)(t.th,{children:"Comparator"}),(0,s.jsx)(t.th,{children:"Interval"}),(0,s.jsx)(t.th,{children:"Result"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"System"}),(0,s.jsx)(t.td,{children:"127.0.0.1"}),(0,s.jsx)(t.td,{children:"Run File"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"REDACTED"})}),(0,s.jsx)(t.td,{children:"Does Not Contain"}),(0,s.jsx)(t.td,{children:"600"}),(0,s.jsx)(t.td,{children:"Failed to rename the reboot file"})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"target",children:"Target"}),"\n",(0,s.jsx)(t.p,{children:"Managed Windows Servers and Workstations"}),"\n",(0,s.jsx)(t.h2,{id:"ticketing",children:"Ticketing"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Subject:"}),(0,s.jsx)(t.br,{}),"\n","Windows Update Orchestrator Monitor - Failed - %ComputerName%"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Body:"}),(0,s.jsx)(t.br,{}),"\n","The reboot file at ",(0,s.jsx)(t.code,{children:"C:/Windows/System32/Tasks/Microsoft/Windows/UpdateOrchestrator/reboot"})," failed to be renamed. The update orchestrator uses this file; it should either be deleted or renamed to prevent the update orchestrator from restarting the computer at any moment."]}),"\n",(0,s.jsx)(t.h2,{id:"implementation",children:"Implementation"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"/docs/cwa/monitors/95f64d6e-cb10-4c2c-9d40-c55941a7d7bc",children:"Import - Remote Monitor - Windows Update Orchestrator"})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var r=n(296540);const s={},o=r.createContext(s);function a(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);