"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[16902],{701037:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"cwa/scripts/90969a29-db33-4332-babb-c2f5be128a3e","title":"AD - Set DNS Aging and Scavenging","description":"This document covers the process of enabling DNS scavenging on a Windows DNS server, including setting intervals for scavenging, no refresh, and refresh options. It outlines the necessary dependencies, user parameters, and provides a sample run of the script for better understanding.","source":"@site/docs/cwa/scripts/AD - Set DNS Aging and Scavenging.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/90969a29-db33-4332-babb-c2f5be128a3e","permalink":"/proval-docs/docs/cwa/scripts/90969a29-db33-4332-babb-c2f5be128a3e","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/AD - Set DNS Aging and Scavenging.md","tags":[{"inline":false,"label":"DNS","permalink":"/proval-docs/docs/tags/dns","description":"Documents focused on Domain Name System management and configuration"},{"inline":false,"label":"Performance","permalink":"/proval-docs/docs/tags/performance","description":"Documents related to enhancing system and application performance"},{"inline":false,"label":"Setup","permalink":"/proval-docs/docs/tags/setup","description":"Documents on setting up software and hardware configurations"},{"inline":false,"label":"Windows","permalink":"/proval-docs/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"90969a29-db33-4332-babb-c2f5be128a3e","title":"AD - Set DNS Aging and Scavenging","title_meta":"AD - Set DNS Aging and Scavenging","keywords":["dns","scavenging","windows","server","cmdlets","management"],"description":"This document covers the process of enabling DNS scavenging on a Windows DNS server, including setting intervals for scavenging, no refresh, and refresh options. It outlines the necessary dependencies, user parameters, and provides a sample run of the script for better understanding.","tags":["dns","performance","setup","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"AD - Refresh Plugin Information","permalink":"/proval-docs/docs/cwa/scripts/17153d23-676f-47b8-bc1c-f32fb10049c0"},"next":{"title":"AD - Update Users Email from Automate Contacts User Centric","permalink":"/proval-docs/docs/cwa/scripts/6344993b-3e75-4bfe-9e28-a7548a14243e"}}');var r=s(474848),i=s(28453);const a={id:"90969a29-db33-4332-babb-c2f5be128a3e",title:"AD - Set DNS Aging and Scavenging",title_meta:"AD - Set DNS Aging and Scavenging",keywords:["dns","scavenging","windows","server","cmdlets","management"],description:"This document covers the process of enabling DNS scavenging on a Windows DNS server, including setting intervals for scavenging, no refresh, and refresh options. It outlines the necessary dependencies, user parameters, and provides a sample run of the script for better understanding.",tags:["dns","performance","setup","windows"],draft:!1,unlisted:!1},c=void 0,o={},d=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Variables",id:"variables",level:2},{value:"User Parameters",id:"user-parameters",level:4},{value:"Process",id:"process",level:2},{value:"Output",id:"output",level:2}];function l(e){const n={a:"a",br:"br",code:"code",h2:"h2",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.p,{children:["Old content piece to compare to: ",(0,r.jsx)(n.a,{href:"https://proval.itglue.com/DOC-5078775-7516268",children:"Set-DNSServerScavengingSettings (Deprecate after approved content)"}),(0,r.jsx)(n.br,{}),"\n","Enables DNS scavenging and optionally allows you to set the interval for scavenging, 'no refresh', and refresh."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Time Saved by Automation:"})," 5 Minutes"]}),"\n",(0,r.jsx)(n.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Sample Run",src:s(614954).A+"",width:"481",height:"454"})}),"\n",(0,r.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Must be run on a Windows DNS server with the applicable DNS server cmdlets (generally 2012+)."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@PS1Log@"})," -> Log file location"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@PS1Path@"})," -> Location of the PS1 file."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"%executeresult%"})," -> Output from the PowerShell script"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@LogContent@"})," -> This is the same content from the PS1 log locally on the machine but within Automate's script logs"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"user-parameters",children:"User Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Example"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"norefreshinterval"}),(0,r.jsx)(n.td,{children:"7"}),(0,r.jsx)(n.td,{children:"True"}),(0,r.jsx)(n.td,{children:"This setting controls when the DNS server rejects refresh requests from hosts and the DHCP service."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"refreshinterval"}),(0,r.jsx)(n.td,{children:"7"}),(0,r.jsx)(n.td,{children:"True"}),(0,r.jsx)(n.td,{children:"This option determines when a DDNS record can be flagged for scavenging (deletion). The default value is seven days."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"scavenginginterval"}),(0,r.jsx)(n.td,{children:"7"}),(0,r.jsx)(n.td,{children:"True"}),(0,r.jsx)(n.td,{children:"The scavenging process runs after X days."})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"process",children:"Process"}),"\n",(0,r.jsxs)(n.p,{children:["The script validates that the server is a DNS server with the ",(0,r.jsx)(n.code,{children:"Get-DNSServer"})," cmdlet. After validation, it will attempt to enable DNS scavenging. If one or more arguments are passed to the script, it will process changes on the respective intervals."]}),"\n",(0,r.jsx)(n.h2,{id:"output",children:"Output"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Script log"}),"\n",(0,r.jsx)(n.li,{children:"Local file on the computer"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},614954:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image_1-2a36b5280d47fa7872a4e776f117618f.png"},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var t=s(296540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);