"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[71871],{424512:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"cwa/scripts/47542900-8cc8-4f35-81e8-cce4169d50f4","title":"Network Probe - Deployment Passwords - Verify","description":"This document describes a script that verifies the accuracy of credentials provided to a Network Probe for agent installation. It tests each credential and logs the results, making it useful for troubleshooting agent installation issues.","source":"@site/docs/cwa/scripts/Network Probe - Deployment Passwords - Verify.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/47542900-8cc8-4f35-81e8-cce4169d50f4","permalink":"/proval-docs/docs/cwa/scripts/47542900-8cc8-4f35-81e8-cce4169d50f4","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/Network Probe - Deployment Passwords - Verify.md","tags":[{"inline":false,"label":"SQL","permalink":"/proval-docs/docs/tags/sql","description":"Documents discussing Structured Query Language and database interactions"}],"version":"current","frontMatter":{"id":"47542900-8cc8-4f35-81e8-cce4169d50f4","title":"Network Probe - Deployment Passwords - Verify","title_meta":"Network Probe - Deployment Passwords - Verify","keywords":["credential","network","probe","verification","agent","deployment","authentication"],"description":"This document describes a script that verifies the accuracy of credentials provided to a Network Probe for agent installation. It tests each credential and logs the results, making it useful for troubleshooting agent installation issues.","tags":["sql"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Network Glue Collector - Install","permalink":"/proval-docs/docs/cwa/scripts/11b30dcb-74c1-4736-a495-5908ce17117a"},"next":{"title":"Network Probe - Disable","permalink":"/proval-docs/docs/cwa/scripts/0cf62bc5-b926-499c-9f40-57824d293dff"}}');var i=r(474848),n=r(28453);const a={id:"47542900-8cc8-4f35-81e8-cce4169d50f4",title:"Network Probe - Deployment Passwords - Verify",title_meta:"Network Probe - Deployment Passwords - Verify",keywords:["credential","network","probe","verification","agent","deployment","authentication"],description:"This document describes a script that verifies the accuracy of credentials provided to a Network Probe for agent installation. It tests each credential and logs the results, making it useful for troubleshooting agent installation issues.",tags:["sql"],draft:!1,unlisted:!1},o=void 0,l={},c=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Variables",id:"variables",level:2},{value:"Script States",id:"script-states",level:4},{value:"Process",id:"process",level:2},{value:"Output",id:"output",level:2}];function d(e){const t={a:"a",h2:"h2",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(t.p,{children:"The script determines whether the credentials given to a Network Probe for installing agents are accurate. All the credentials will be tested against the Network Probe. If a username is saved without the \"//\" symbol, it will be treated as a domain credential and will be checked as 'Domain/Username'."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Image",src:r(20123).A+"",width:"1000",height:"570"})}),"\n",(0,i.jsx)(t.p,{children:"This script can be helpful while troubleshooting agent installation issues from a Network Probe."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Intended Target:"})," Network Probes with Agent Deployment Enabled"]}),"\n",(0,i.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Image",src:r(638912).A+"",width:"472",height:"349"})}),"\n",(0,i.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Name"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"AutoDeploymentCheck"}),(0,i.jsx)(t.td,{children:'(0 or 1) An SQL query updates this variable to verify whether "Enable Automated Agent Deployment" is checked for the computer.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"sqldataset"}),(0,i.jsx)(t.td,{children:'SQL data set of "Passwordid'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Count"}),(0,i.jsx)(t.td,{children:"Number of credentials. Also serves as a counter for the loop."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"ValidationVariable"}),(0,i.jsx)(t.td,{children:"A variable to store and display the result of the credential verification."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"ParsedDomain"}),(0,i.jsxs)(t.td,{children:['Domain Name of the computer (grabbed using the PowerShell command "$env',":UserDomain",'").']})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"sqlusername"}),(0,i.jsx)(t.td,{children:"Usernames fetched from sqldataset."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Parsedusername"}),(0,i.jsx)(t.td,{children:'Username without the domain name; anything occurring after the "//" symbol in the sqlusername. To be used for validation.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"sqlpassword"}),(0,i.jsx)(t.td,{children:"Password for sqlusername grabbed from sqldataset."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"sqltitle"}),(0,i.jsx)(t.td,{children:"Credential title for the sqlusername grabbed from the sqldataset."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"when"}),(0,i.jsx)(t.td,{children:"Run time of the script."})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"script-states",children:"Script States"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Name"}),(0,i.jsx)(t.th,{children:"Example"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Network Probe Credentials Status"}),(0,i.jsx)(t.td,{children:"Title: SomeoneUserName: PROVALDEV/SomeoneStatus: Incorrect CredentialsAttempt Sequence: 7Title: Test Domain Admin DomainAdminUserName: ProValDev/DomainAdminStatus: Valid CredentialsDomain Admin: TrueAttempt Sequence: 6Title: Testing - OK TO DELETEUserName: PROVALDEV/LadminFEStatus: Incorrect CredentialsAttempt Sequence: 5Title: TESTWINSRV2019UserName: PROVALDEV/DomainUserStatus: Valid CredentialsDomain Admin: FalseAttempt Sequence: 4Title: -TESTWINSRV2016UserName: PROVALDEV/IncorrectStatus: Incorrect CredentialsAttempt Sequence: 3Title: Location AdminUserName: ./locationadminStatus: Incorrect CredentialsAttempt Sequence: 2Title: Domain Admin AccountUserName: TEST/locationadminStatus: Incorrect CredentialsAttempt Sequence: 1"}),(0,i.jsx)(t.td,{children:"Final result of the script"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Network Probe Credentials Verification Date"}),(0,i.jsx)(t.td,{children:"2022-07-31 06:28:01"}),(0,i.jsx)(t.td,{children:"Run time of the script"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"process",children:"Process"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Verify whether the computer is a Network Probe."}),"\n",(0,i.jsx)(t.li,{children:"Verify whether the probe has Automated Agent Deployment enabled."}),"\n",(0,i.jsx)(t.li,{children:"Fetch all passwords assigned to the probe for agent deployment."}),"\n",(0,i.jsx)(t.li,{children:"Store the number of credentials in the Count variable."}),"\n",(0,i.jsx)(t.li,{children:"Verify the number of credentials. The script exits if there are no credentials to check."}),"\n",(0,i.jsx)(t.li,{children:'Define the variable "ValidationVariable."'}),"\n",(0,i.jsx)(t.li,{children:"Fetch the computer's Domain Name."}),"\n",(0,i.jsx)(t.li,{children:"Initiate the loop to check the authenticity of each credential. The loop will run once per credential, i.e., Count number of times."}),"\n",(0,i.jsx)(t.li,{children:"Fetch the Count number row from the %sqldataset%."}),"\n",(0,i.jsx)(t.li,{children:'Check whether the stored username contains a "//" or not. If not, the credential will be considered as a domain admin and will be used as ParsedDomain/SQLusername for verification purposes.'}),"\n",(0,i.jsx)(t.li,{children:'Fetch the Parsedusername from the sqlusername, i.e., anything occurring after the "//" symbol in the username.'}),"\n",(0,i.jsxs)(t.li,{children:['Run the "whoami" command with the authority of sqlusername and ',(0,i.jsx)(t.a,{href:"http://sqlpassword",children:"sqlpassword"}),"."]}),"\n",(0,i.jsx)(t.li,{children:"Verify the outcome of the command run in Step 12. If the outcome contains the Parsedusername, then the credentials are considered correct; otherwise, the credentials are considered incorrect."}),"\n",(0,i.jsx)(t.li,{children:"Check if it's a domain admin for the correct credentials."}),"\n",(0,i.jsx)(t.li,{children:"Write the ValidationVariable variable for the credential according to the outcome of the verification."}),"\n",(0,i.jsx)(t.li,{children:"Repeat the loop for each credential (Step 8 to Step 15)."}),"\n",(0,i.jsx)(t.li,{children:'Store the final consolidated result in the "Network Probe Credentials Status" script state and the current time in the "Network Probe Credentials Verification Date" state.'}),"\n",(0,i.jsx)(t.li,{children:"Generate the information logs according to the failure or success of the script."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Script State"}),"\n",(0,i.jsx)(t.li,{children:"Script Logs"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Sample:"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Image",src:r(763113).A+"",width:"435",height:"820"})})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},20123:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/image_1-122b5663621ffbde91be537cd4c24ad6.png"},638912:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/image_2-a85fa746c0b0912d351ef7c559b496b4.png"},763113:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/image_3-ba52d6cd5f3f8210eaf3af9541c872fe.png"},28453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>o});var s=r(296540);const i={},n=s.createContext(i);function a(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);