"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[66337],{645182:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>l,frontMatter:()=>c,metadata:()=>d,toc:()=>i});const d=JSON.parse('{"id":"vsa/procedures/5756f649-47ee-4bf0-b8ef-f65eeb4453fe","title":"Windows 10 Feature Upgrade","description":"This document outlines the process of initiating a Windows 10 feature upgrade that requires a mandatory reboot. It includes a summary of the procedure, sample run logs, and detailed steps of the process involved in executing the upgrade and scheduling necessary tasks.","source":"@site/docs/vsa/procedures/Windows 10 Feature Upgrade.md","sourceDirName":"vsa/procedures","slug":"/vsa/procedures/5756f649-47ee-4bf0-b8ef-f65eeb4453fe","permalink":"/docs/vsa/procedures/5756f649-47ee-4bf0-b8ef-f65eeb4453fe","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/vsa/procedures/Windows 10 Feature Upgrade.md","tags":[{"inline":false,"label":"Patching","permalink":"/docs/tags/patching","description":"Documents on software patch management and update installations"},{"inline":false,"label":"Reboot","permalink":"/docs/tags/reboot","description":"Documents related to system reboot processes and their management"},{"inline":false,"label":"Windows","permalink":"/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"5756f649-47ee-4bf0-b8ef-f65eeb4453fe","title":"Windows 10 Feature Upgrade","title_meta":"Windows 10 Feature Upgrade","keywords":["windows","upgrade","feature","reboot","patching"],"description":"This document outlines the process of initiating a Windows 10 feature upgrade that requires a mandatory reboot. It includes a summary of the procedure, sample run logs, and detailed steps of the process involved in executing the upgrade and scheduling necessary tasks.","tags":["patching","reboot","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Windows 10 Feature Upgrade (No Reboot)","permalink":"/docs/vsa/procedures/0ecbf1e1-8947-417c-a3ad-952fcf218140"},"next":{"title":"Windows 10 Upgrade (Upgrade Assistant)","permalink":"/docs/vsa/procedures/65e85bb2-14cc-4c52-bf87-453dc1784bbd"}}');var r=s(474848),n=s(28453);const c={id:"5756f649-47ee-4bf0-b8ef-f65eeb4453fe",title:"Windows 10 Feature Upgrade",title_meta:"Windows 10 Feature Upgrade",keywords:["windows","upgrade","feature","reboot","patching"],description:"This document outlines the process of initiating a Windows 10 feature upgrade that requires a mandatory reboot. It includes a summary of the procedure, sample run logs, and detailed steps of the process involved in executing the upgrade and scheduling necessary tasks.",tags:["patching","reboot","windows"],draft:!1,unlisted:!1},a=void 0,o={},i=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Process",id:"process",level:2},{value:"Output",id:"output",level:2}];function h(e){const t={a:"a",br:"br",h2:"h2",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(t.p,{children:"Initiates a Windows Feature Upgrade with a mandatory reboot."}),"\n",(0,r.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Time"}),(0,r.jsx)(t.th,{children:"Task"}),(0,r.jsx)(t.th,{children:"Status"}),(0,r.jsx)(t.th,{children:"Link"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:45 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Windows 10 Feature Upgrade"}),(0,r.jsx)(t.td,{children:"Success THEN"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:45 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Windows 10 Feature Upgrade"}),(0,r.jsx)(t.td,{children:"Script Registry Check was successfully scheduled to run in 1 hour"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:45 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Windows 10 Feature Upgrade"}),(0,r.jsx)(t.td,{children:"Raw PS1 Data: Id Name PSJobTypeName State HasMoreData Location Command -- ---- ------------- ----- ----------- -------- ------- 1 Job1 BackgroundJob Running True localhost C:/ProgramData/_autom..."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:45 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command (64-bit, Run As System)"}),(0,r.jsx)(t.td,{children:"Success THEN"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:45 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command (64-bit, Run As System)-0016"}),(0,r.jsxs)(t.td,{children:["PowerShell command complete. Results returned to global variable #global",":psresult","# and saved in Agent's Documents tab of server."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:32 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command (64-bit, Run As System)-0011"}),(0,r.jsx)(t.td,{children:'Executing 64-bit PowerShell command as System: "" -command "Start-Job -ScriptBlock \\{ C:/ProgramData/_automation/AgentProcedure/UpdateWindows10/Update-Windows10.ps1 -Reboot None}" >"c:/provaltech/psoutputtmp.txt"'}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:32 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command (64-bit, Run As System)-0013"}),(0,r.jsx)(t.td,{children:"Sending output to global variable."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:32 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command (64-bit, Run As System)-0008"}),(0,r.jsx)(t.td,{children:"Custom commands detected as Start-Job -ScriptBlock \\{ C:/ProgramData/_automation/AgentProcedure/UpdateWindows10/Update-Windows10.ps1 -Reboot None}"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:32 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command (64-bit, Run As System)-0003"}),(0,r.jsx)(t.td,{children:"No PowerShell file variable detected."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:31 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command (64-bit, Run As System)-0002"}),(0,r.jsx)(t.td,{children:"PowerShell is present."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:17 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command"}),(0,r.jsx)(t.td,{children:"Success THEN"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:16 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command-0011"}),(0,r.jsx)(t.td,{children:"PowerShell command completed!"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:13 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command-0011"}),(0,r.jsxs)(t.td,{children:['Executing PowerShell "" -Command "New-Item -Type Directory -Path $env',":ProgramData",'/_automation/AgentProcedure -name UpdateWindows10" ""']}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:13 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command-0010"}),(0,r.jsx)(t.td,{children:"Not sending output to variable."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:13 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command-0008"}),(0,r.jsxs)(t.td,{children:['New command variable is: -Command "New-Item -Type Directory -Path $env',":ProgramData",'/_automation/AgentProcedure -name UpdateWindows10"']}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:13 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command-0008"}),(0,r.jsxs)(t.td,{children:["Custom commands detected as New-Item -Type Directory -Path $env",":ProgramData","/_automation/AgentProcedure -name UpdateWindows10"]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:57:05 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Execute PowerShell Command-0002"}),(0,r.jsx)(t.td,{children:"PowerShell is present."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:56:58 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Get Add/Remove Programs List"}),(0,r.jsx)(t.td,{children:"Success THEN"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:56:57 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"SW License Audit"}),(0,r.jsx)(t.td,{children:"Success THEN"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:56:57 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Close KLicense"}),(0,r.jsx)(t.td,{children:"Success ELSE"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:56:57 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Check if KLicense running"}),(0,r.jsx)(t.td,{children:"Success ELSE"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"3:56:05 pm 31-Aug-22"}),(0,r.jsx)(t.td,{children:"Run Now - Windows 10 Feature Upgrade"}),(0,r.jsxs)(t.td,{children:["Admin ",(0,r.jsx)(t.a,{href:"https://provaltech.com/dan.hicks",children:"provaltech.com/dan.hicks"})," scheduled procedure Run Now - Windows 10 Feature Upgrade to run at Aug 31 2022 3:56 PM"]}),(0,r.jsx)(t.td,{})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"process",children:"Process"}),"\n",(0,r.jsxs)(t.p,{children:["Starts a job running in the background to execute ",(0,r.jsx)(t.a,{href:"/docs/powershell/ps-update-windows10",children:"SEC - Windows Patching - Agnostic - Update-Windows10"})," on the machine with no reboot.",(0,r.jsx)(t.br,{}),"\n","Schedules ",(0,r.jsx)(t.a,{href:"/docs/vsa/procedures/f0d83724-e8a8-41f8-8f73-fea99d0f34de",children:"SEC - Windows Patching - Agent Procedure - Registry Check"})," for 1 hour from run time.",(0,r.jsx)(t.br,{}),"\n","Sets ",(0,r.jsx)(t.a,{href:"/docs/vsa/custom-fields/1b448856-c7d6-4aed-8080-474f5650a070",children:"SEC - Windows Patching - Custom Fields - xPVAL Windows Feature Upgrade Status"})," to [In Progress]."]}),"\n",(0,r.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,r.jsxs)(t.p,{children:["AP Log",(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.a,{href:"/docs/vsa/custom-fields/1b448856-c7d6-4aed-8080-474f5650a070",children:"SEC - Windows Patching - Custom Fields - xPVAL Windows Feature Upgrade Status"}),(0,r.jsx)(t.br,{}),"\n","PSOutput Document"]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>a});var d=s(296540);const r={},n=d.createContext(r);function c(e){const t=d.useContext(n);return d.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),d.createElement(n.Provider,{value:t},e.children)}}}]);