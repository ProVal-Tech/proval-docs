"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[21337],{919490:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"cwa/monitors/7310b9b3-8209-4067-8b83-81ab9345e2f4","title":"Missing Patch Tickets","description":"This document outlines the setup for a monitor that triggers a script to automatically resolve new or existing tickets generated by the Missing Patches detection solution, specifically for machines with three or fewer missing patches.","source":"@site/docs/cwa/monitors/Missing Patch Tickets.md","sourceDirName":"cwa/monitors","slug":"/cwa/monitors/7310b9b3-8209-4067-8b83-81ab9345e2f4","permalink":"/docs/cwa/monitors/7310b9b3-8209-4067-8b83-81ab9345e2f4","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/monitors/Missing Patch Tickets.md","tags":[{"inline":false,"label":"Database","permalink":"/docs/tags/database","description":"Documents related to database management systems and operations"},{"inline":false,"label":"Installation","permalink":"/docs/tags/installation","description":"Documents on installing software and configuring systems"},{"inline":false,"label":"Windows","permalink":"/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"7310b9b3-8209-4067-8b83-81ab9345e2f4","title":"Missing Patch Tickets","title_meta":"Missing Patch Tickets","keywords":["monitor","tickets","patches","automation","alert"],"description":"This document outlines the setup for a monitor that triggers a script to automatically resolve new or existing tickets generated by the Missing Patches detection solution, specifically for machines with three or fewer missing patches.","tags":["database","installation","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Missing Dell OpenManage Software","permalink":"/docs/cwa/monitors/e3bc733b-0083-4fbc-bd89-47adbabe738e"},"next":{"title":"Missing Webroot","permalink":"/docs/cwa/monitors/e50cad02-bc5f-4633-91d6-4f58ba08c215"}}');var s=n(474848),r=n(28453);const a={id:"7310b9b3-8209-4067-8b83-81ab9345e2f4",title:"Missing Patch Tickets",title_meta:"Missing Patch Tickets",keywords:["monitor","tickets","patches","automation","alert"],description:"This document outlines the setup for a monitor that triggers a script to automatically resolve new or existing tickets generated by the Missing Patches detection solution, specifically for machines with three or fewer missing patches.",tags:["database","installation","windows"],draft:!1,unlisted:!1},o=void 0,c={},l=[{value:"Summary",id:"summary",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Target",id:"target",level:2},{value:"Alert Template",id:"alert-template",level:2}];function d(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(t.p,{children:"This monitor will trigger a script to resolve any new or existing tickets generated by the Missing Patches detection solution. The script will only be initiated on machines that have three or fewer missing patches."}),"\n",(0,s.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsx)(t.p,{children:"[CWM - Automate - Script - Client Specific - Auto Close - Missing Patch Tickets [Autofix]](../scripts/Client Specific - Auto Close - Missing Patch Tickets Autofix.md)"}),"\n",(0,s.jsx)(t.h2,{id:"target",children:"Target"}),"\n",(0,s.jsx)(t.p,{children:"Global"}),"\n",(0,s.jsx)(t.h2,{id:"alert-template",children:"Alert Template"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Name:"})," ",(0,s.jsx)(t.code,{children:"\u25b3 CUSTOM - Auto Close - Missing Patch Tickets"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"SQL Insert Query:"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"INSERT INTO `alerttemplate` (\r\n  `Name`, `Comment`, `Last_User`, `Last_Date`, \r\n  `GUID`\r\n) \r\nSELECT \r\n  '\u25b3 CUSTOM - Auto Close - Missing Patch Tickets' AS `Name`, \r\n  '\u25b3 CUSTOM - Auto Close - Missing Patch Tickets' AS `Comment`, \r\n  'PRONOC' AS `Last_User`, \r\n  (NOW()) AS `Last_Date`, \r\n  '40e61fa3-7efa-4efe-a8ae-76fe95604efa' AS `GUID` \r\nWHERE \r\n  (\r\n    SELECT \r\n      COUNT(*) \r\n    FROM \r\n      alerttemplate \r\n    WHERE \r\n      GUID = '40e61fa3-7efa-4efe-a8ae-76fe95604efa'\r\n  ) = '0';\r\n\r\nINSERT INTO `alerttemplates` (\r\n  `AlertActionID`, `DayOfWeek`, `TimeStart`, \r\n  `TimeEnd`, `AlertAction`, `ContactID`, \r\n  `UserID`, `ScriptID`, `Trump`, `GUID`, \r\n  `WarningAction`\r\n) \r\nSELECT \r\n  (\r\n    SELECT \r\n      alertactionid \r\n    FROM \r\n      alerttemplate \r\n    WHERE \r\n      `GUID` = '40e61fa3-7efa-4efe-a8ae-76fe95604efa'\r\n  ) AS `AlertActionid`, \r\n  '127' AS `DayOfWeek`, \r\n  '00:00:00' AS `TimeStart`, \r\n  '23:59:00' AS `TimeEnd`, \r\n  '512' AS `AlertAction`, \r\n  '-2' AS `ContactID`, \r\n  '0' AS `UserID`, \r\n  (\r\n    SELECT \r\n      Scriptid \r\n    FROM \r\n      lt_scripts \r\n    WHERE \r\n      scriptGUID = 'c9164787-d570-11ed-bf6a-000c295e5f21'\r\n  ) AS `Scriptid`, \r\n  '0' AS `Trump`, \r\n  '2f6e8c31-b4fb-4ede-b20f-5f5ea75951db' AS `GUID`, \r\n  '512' AS `WarningAction` \r\nWHERE \r\n  (\r\n    SELECT \r\n      COUNT(*) \r\n    FROM \r\n      alerttemplates \r\n    WHERE \r\n      GUID = '2f6e8c31-b4fb-4ede-b20f-5f5ea75951db'\r\n  ) = '0';\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," Ensure that the [CWM - Automate - Script - Client Specific - Auto Close - Missing Patch Tickets [Autofix]](../scripts/Client Specific - Auto Close - Missing Patch Tickets Autofix.md) script is imported before creating the alert template."]})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(296540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);