"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[30455],{213411:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>A,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"cwa/scripts/0004bd17-6820-4def-b5bf-96686276b7ae","title":"CW Control RMM+ API - Offline Server AutoFix","description":"This document outlines a script designed to automate the ticketing process for offline servers. It triggers based on a monitor, creates a ticket, performs troubleshooting steps, and updates the ticket with comments as actions are taken. The script ensures consistent communication on the status of the offline server and attempts to resolve issues automatically.","source":"@site/docs/cwa/scripts/CW Control RMM+ API - Offline Server AutoFix.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/0004bd17-6820-4def-b5bf-96686276b7ae","permalink":"/proval-docs/docs/cwa/scripts/0004bd17-6820-4def-b5bf-96686276b7ae","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/CW Control RMM+ API - Offline Server AutoFix.md","tags":[{"inline":false,"label":"Ticketing","permalink":"/proval-docs/docs/tags/ticketing","description":"Documents related to ticketing systems and IT support management"}],"version":"current","frontMatter":{"id":"0004bd17-6820-4def-b5bf-96686276b7ae","title":"CW Control RMM+ API - Offline Server AutoFix","title_meta":"CW Control RMM+ API - Offline Server AutoFix","keywords":["ticketing","automation","monitoring","troubleshooting","offline"],"description":"This document outlines a script designed to automate the ticketing process for offline servers. It triggers based on a monitor, creates a ticket, performs troubleshooting steps, and updates the ticket with comments as actions are taken. The script ensures consistent communication on the status of the offline server and attempts to resolve issues automatically.","tags":["ticketing"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"CW Control Install - Mac","permalink":"/proval-docs/docs/cwa/scripts/6bbf6e1c-3721-488d-b807-9c4b4fc78259"},"next":{"title":"CWA - CWM Category Mapping","permalink":"/proval-docs/docs/cwa/scripts/f840d208-1cd4-409a-bf46-b6492790a184"}}');var n=s(474848),r=s(28453);const o={id:"0004bd17-6820-4def-b5bf-96686276b7ae",title:"CW Control RMM+ API - Offline Server AutoFix",title_meta:"CW Control RMM+ API - Offline Server AutoFix",keywords:["ticketing","automation","monitoring","troubleshooting","offline"],description:"This document outlines a script designed to automate the ticketing process for offline servers. It triggers based on a monitor, creates a ticket, performs troubleshooting steps, and updates the ticket with comments as actions are taken. The script ensures consistent communication on the status of the offline server and attempts to resolve issues automatically.",tags:["ticketing"],draft:!1,unlisted:!1},A=void 0,a={},l=[{value:"Summary",id:"summary",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Global Parameters",id:"global-parameters",level:4},{value:"Process",id:"process",level:2},{value:"Output",id:"output",level:2}];function c(e){const t={h2:"h2",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,n.jsx)(t.p,{children:"This script is designed to be triggered by a monitor. It will not function if run manually. It creates a ticket for offline servers, performs troubleshooting steps, and adds comments to the ticket as troubleshooting progresses."}),"\n",(0,n.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,n.jsx)(t.p,{children:"This script is dependent on the following items:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"RMM+ installed and configured in CW Control/Automate"}),"\n"]}),"\n",(0,n.jsx)(t.h4,{id:"global-parameters",children:"Global Parameters"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Example"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"OfflineThreshold"}),(0,n.jsx)(t.td,{children:"11"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"This indicates how many minutes the offline server monitor will alert after. Default is set to 11 minutes. (This needs to be set according to your monitoring settings.)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TicketCreateSubject"}),(0,n.jsx)(t.td,{children:"LT - Server Offline for %LocationName% / %ComputerName% (%ComputerID%)"}),(0,n.jsx)(t.td,{children:"True"}),(0,n.jsx)(t.td,{children:"This indicates what the ticket subject will look like. Default is the example output."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"process",children:"Process"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Create the server offline ticket."}),"\n",(0,n.jsxs)(t.li,{children:["Check CW Control to see if the machine is online.","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The machine is offline:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Add a comment to the ticket confirming the machine is offline in Control."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["The machine is online:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Attempt to force restart the Automate services.","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["If services report they started successfully:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Go through a 3-minute loop validating the machine is online now. If it doesn't, jump to the reinstall task."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["If services had an error:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Comment on the ticket with an update. Begin reinstall."}),"\n",(0,n.jsx)(t.li,{children:"If the reinstall does not work, add a comment with the reinstall command results and the last 15 lines of the Automate LTErrors log in the ticket."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.li,{children:"If at any time the script fixes the agent and the machine is now online, it will add a comment to the ticket stating that it fixed the issue, and the monitor will automatically close the ticket."}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,n.jsx)(t.p,{children:"The script is designed to consistently update the ticket with new information as it performs troubleshooting. Below are a few examples of ticket data being added during the troubleshooting process."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Image 1",src:s(840773).A+"",width:"1000",height:"107"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Image 2",src:s(638350).A+"",width:"522",height:"68"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Image 3",src:s(111991).A+"",width:"1000",height:"218"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Image 4",src:s(532376).A+"",width:"1000",height:"152"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Image 5",src:s(805089).A+"",width:"305",height:"51"})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},840773:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_1-295c20419f5d07a4df99bf753d0efa62.png"},638350:(e,t,s)=>{s.d(t,{A:()=>i});const i="data:image/png;base64,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"},111991:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_3-0e924582ac83dd49df508b4d5cd20050.png"},532376:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/image_4-cf25744cbf200cd42ea89b3a90fa02b0.png"},805089:(e,t,s)=>{s.d(t,{A:()=>i});const i="data:image/png;base64,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"},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>A});var i=s(296540);const n={},r=i.createContext(n);function o(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function A(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);