"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[67931],{573886:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"powershell/ps-reset-krbtgtkeys","title":"Reset-KrbtgtKeys","description":"Documentation for the Reset-KrbtgtKeys command to reset the KRBTGT Active Directory account password.","source":"@site/docs/powershell/Reset-KrbtgtKeys.md","sourceDirName":"powershell","slug":"/powershell/ps-reset-krbtgtkeys","permalink":"/proval-docs/docs/powershell/ps-reset-krbtgtkeys","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/powershell/Reset-KrbtgtKeys.md","tags":[{"inline":false,"label":"Active Directory","permalink":"/proval-docs/docs/tags/active-directory","description":"Documents related to Active Directory services and management"},{"inline":false,"label":"Security","permalink":"/proval-docs/docs/tags/security","description":"Documents discussing security measures and practices for IT systems"},{"inline":false,"label":"Windows","permalink":"/proval-docs/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"ps-reset-krbtgtkeys","title":"Reset-KrbtgtKeys","title_meta":"Reset-KrbtgtKeys","keywords":["krbtgt","reset","active-directory","security"],"description":"Documentation for the Reset-KrbtgtKeys command to reset the KRBTGT Active Directory account password.","tags":["active-directory","security","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Repair-WindowsUpdate","permalink":"/proval-docs/docs/powershell/ps-repair-windowsupdate"},"next":{"title":"Restore-RegistryValue","permalink":"/proval-docs/docs/powershell/1f1d7e57-764e-4888-bda1-fc0ea45f85c0"}}');var i=s(474848),n=s(28453);const o={id:"ps-reset-krbtgtkeys",title:"Reset-KrbtgtKeys",title_meta:"Reset-KrbtgtKeys",keywords:["krbtgt","reset","active-directory","security"],description:"Documentation for the Reset-KrbtgtKeys command to reset the KRBTGT Active Directory account password.",tags:["active-directory","security","windows"],draft:!1,unlisted:!1},c=void 0,l={},a=[{value:"Description",id:"description",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Usage",id:"usage",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Output",id:"output",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(t.p,{children:["This script is used to reset the KRBTGT Active Directory account. It is adapted from ",(0,i.jsx)(t.a,{href:"https://github.com/microsoft/New-KrbtgtKeys.ps1/blob/master/New-KrbtgtKeys.ps1",children:"New-KrbtgtKeys.ps1"}),"."]}),"\n",(0,i.jsx)(t.p,{children:'\ud83d\udea8 This script is provided "without warranty." \ud83d\udea8'}),"\n",(0,i.jsx)(t.p,{children:"Essentially, it is a streamlined version of the adapted script that always runs the live account reset, with some modernization of PowerShell included."}),"\n",(0,i.jsx)(t.p,{children:"Due to this, results are not guaranteed. If at all possible, it should always be run manually, and logins should be immediately tested."}),"\n",(0,i.jsxs)(t.p,{children:["\ud83d\udea8 ",(0,i.jsx)(t.em,{children:"YOU HAVE BEEN WARNED"})," \ud83d\udea8"]}),"\n",(0,i.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Must be run on an Active Directory server."}),"\n",(0,i.jsx)(t.li,{children:"PowerShell v5"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(t.p,{children:["See ",(0,i.jsx)(t.a,{href:"https://github.com/microsoft/New-KrbtgtKeys.ps1",children:"New-KrbtgtKeys.ps1"}),' for detailed process information. This script will always run in "Mode 4."']}),"\n",(0,i.jsx)(t.p,{children:"The script runs the process of resetting the KRBTGT account password."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-powershell",children:".\\Reset-KrbtgtKeys.ps1\n"})}),"\n",(0,i.jsx)(t.p,{children:"The script can also run the process of resetting the KRBTGT account password without actually resetting it. It is recommended to run this first and review the output before executing the live reset."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-powershell",children:".\\Reset-KrbtgtKeys.ps1 -DryRun\n"})}),"\n",(0,i.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Alias"}),(0,i.jsx)(t.th,{children:"Required"}),(0,i.jsx)(t.th,{children:"Default"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DryRun"})}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"False"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Switch (Bool)"}),(0,i.jsx)(t.td,{children:"Use this switch to run the script up to and after resetting the KRBTGT account without actually resetting the password."})]})})]}),"\n",(0,i.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,i.jsx)(t.p,{children:"The output for log, result, and error files will be located at:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:".\\Reset-KrbtgtKeys-log.txt\r\n.\\Reset-KrbtgtKeys-error.txt\n"})})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>c});var r=s(296540);const i={},n=r.createContext(i);function o(e){const t=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);