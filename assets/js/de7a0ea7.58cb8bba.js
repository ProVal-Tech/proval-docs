"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[18319],{100574:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"cwa/scripts/c9c8a58e-fd25-4596-822c-b6847c782e9c","title":"Location Ping Monitors - Create","description":"This document provides a comprehensive guide on setting up Remote Monitors for Location Ping Monitors, detailing the necessary procedures, system properties, and Extra Data Fields (EDFs) required to effectively monitor location connectivity and trigger alerts when a location becomes unreachable.","source":"@site/docs/cwa/scripts/Location Ping Monitors - Create.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/c9c8a58e-fd25-4596-822c-b6847c782e9c","permalink":"/docs/cwa/scripts/c9c8a58e-fd25-4596-822c-b6847c782e9c","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/Location Ping Monitors - Create.md","tags":[{"inline":false,"label":"Networking","permalink":"/docs/tags/networking","description":"Documents related to network infrastructure and management practices"},{"inline":false,"label":"Setup","permalink":"/docs/tags/setup","description":"Documents on setting up software and hardware configurations"}],"version":"current","frontMatter":{"id":"c9c8a58e-fd25-4596-822c-b6847c782e9c","title":"Location Ping Monitors - Create","title_meta":"Location Ping Monitors - Create","keywords":["remote","monitors","location","ping","setup","alert"],"description":"This document provides a comprehensive guide on setting up Remote Monitors for Location Ping Monitors, detailing the necessary procedures, system properties, and Extra Data Fields (EDFs) required to effectively monitor location connectivity and trigger alerts when a location becomes unreachable.","tags":["networking","setup"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Locate PHP.exe","permalink":"/docs/cwa/scripts/174c59f1-8d7f-44a0-b5de-d69145ab4a43"},"next":{"title":"Lock Stolen System","permalink":"/docs/cwa/scripts/3fec514c-c0b2-4b19-92b7-d77c78e678a3"}}');var r=i(474848),s=i(28453);const o={id:"c9c8a58e-fd25-4596-822c-b6847c782e9c",title:"Location Ping Monitors - Create",title_meta:"Location Ping Monitors - Create",keywords:["remote","monitors","location","ping","setup","alert"],description:"This document provides a comprehensive guide on setting up Remote Monitors for Location Ping Monitors, detailing the necessary procedures, system properties, and Extra Data Fields (EDFs) required to effectively monitor location connectivity and trigger alerts when a location becomes unreachable.",tags:["networking","setup"],draft:!1,unlisted:!1},c=void 0,d={},l=[{value:"Summary",id:"summary",level:2},{value:"Notes:",id:"notes",level:4},{value:"Implementation",id:"implementation",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"User Parameters",id:"user-parameters",level:2},{value:"System Properties",id:"system-properties",level:2},{value:"Client-Level EDF",id:"client-level-edf",level:2},{value:"Location-Level EDF",id:"location-level-edf",level:2},{value:"Remote Monitor Example",id:"remote-monitor-example",level:2},{value:"Output",id:"output",level:2}];function a(e){const t={a:"a",code:"code",h2:"h2",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(t.p,{children:"This document details the procedure for setting up Remote Monitors for Location Ping Monitors. These monitors are designed to trigger an alert when a location becomes unreachable, meaning the public address of the location is offline. The setup of these remote monitors is controlled by system properties and computer-level Extra Data Fields (EDFs), which are further explained in this document."}),"\n",(0,r.jsx)(t.h4,{id:"notes",children:"Notes:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Location ID ",(0,r.jsx)(t.code,{children:"1"})," is excluded from monitoring."]}),"\n",(0,r.jsxs)(t.li,{children:["If the location-level EDF ",(0,r.jsx)(t.code,{children:"Location_IP_Address"})," is not set, the ping monitor will be created for the router address used by the maximum number of computers for that location."]}),"\n",(0,r.jsxs)(t.li,{children:["Ping monitors will be created for the computer ID specified in the system property ",(0,r.jsx)(t.code,{children:"Location_Ping_Monitor_Computerid"}),". For on-prem partners, if this system property is not set, the ping monitors will be created on the Automate server."]}),"\n",(0,r.jsxs)(t.li,{children:["The script will send an email to ",(0,r.jsx)(t.a,{href:"mailto:alerts@provaltech.com",children:"alerts@provaltech.com"})," to generate a high-priority ticket in Autotask under the following conditions:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["If the system property ",(0,r.jsx)(t.code,{children:"Location_Ping_Monitor_Computerid"})," is not set for a hosted partner."]}),"\n",(0,r.jsxs)(t.li,{children:["If the computer ID specified in the system property ",(0,r.jsx)(t.code,{children:"Location_Ping_Monitor_Computerid"})," does not exist in Automate or is offline."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"implementation",children:"Implementation"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.strong,{children:["Remove the ",(0,r.jsx)(t.code,{children:"NTW - Ping Monitor \\<Client Name> - \\<Location Name>"})," if it exists from the environment to avoid duplicate alerts."]})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.strong,{children:["Import/Update the following content from the ",(0,r.jsx)(t.code,{children:"ProSync"})," plugin:"]})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://proval.itglue.com/5078775/docs/16050276",children:"Script - Location Ping Monitors - Create"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/cwa/scripts/7cd1193a-c796-4545-b707-758e1b651c22",children:"Script - Ticket Creation - Ping Monitor"})}),"\n",(0,r.jsx)(t.li,{children:"Alert Template - \u25b3 Custom - Ticket Creation - Ping Monitor"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Run/Debug the Script"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Execute or debug the script against a single client, with the ",(0,r.jsx)(t.code,{children:"Set_Environment"})," parameter set to ",(0,r.jsx)(t.code,{children:"1"}),". This action will generate the necessary system properties and Extra Data Fields (EDFs) for managing the remote monitors."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Reload System Cache"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Refresh the system cache to ensure all changes are updated."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Configure System Properties and EDFs"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Navigate to the ",(0,r.jsx)(t.strong,{children:"System Dashboard \u2192 Config \u2192 Configurations \u2192 Properties"}),"."]}),"\n",(0,r.jsx)(t.li,{children:"Set the appropriate alert template and ticket category in their respective system properties for the monitor set. Please read through the detailed System Properties and EDF explanations to understand how to configure any customizations."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Schedule the Script"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Schedule the script to run once per day, preferably around midnight, from the dashboard for optimal results."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"/docs/cwa/scripts/7cd1193a-c796-4545-b707-758e1b651c22",children:"CWM - Automate - Script - Ticket Creation - Ping Monitor"})}),"\n",(0,r.jsx)(t.h2,{id:"user-parameters",children:"User Parameters"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Example"}),(0,r.jsx)(t.th,{children:"Required"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Set_Environment"}),(0,r.jsx)(t.td,{children:"1"}),(0,r.jsx)(t.td,{children:"True (for first run only)"}),(0,r.jsx)(t.td,{children:"Set it to 1 during the first run of the script to generate the necessary system properties and EDFs for managing the generated remote monitors."})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"system-properties",children:"System Properties"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Example"}),(0,r.jsx)(t.th,{children:"Required"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Location_Ping_Monitoring_Alert_Template"}),(0,r.jsx)(t.td,{children:"669"}),(0,r.jsx)(t.td,{children:"True"}),(0,r.jsxs)(t.td,{children:["This system property stores the ID of the ",(0,r.jsx)(t.code,{children:"Alert Template"})," to apply to the remote monitors created for the servers. The default value is the ",(0,r.jsx)(t.code,{children:"TemplateID"})," of the alert template ",(0,r.jsx)(t.code,{children:"\u25b3 Custom - Ticket Creation - Ping Monitor"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Location_Ping_Monitoring_TicketCategory"}),(0,r.jsx)(t.td,{children:"124"}),(0,r.jsx)(t.td,{children:"False"}),(0,r.jsxs)(t.td,{children:["This system property stores the ID of the ",(0,r.jsx)(t.code,{children:"Ticket Category"})," to apply to the remote monitors created. The default value is '0', i.e., ",(0,r.jsx)(t.code,{children:"\\<Not Specified>"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Location_Ping_Monitor_Computerid"}),(0,r.jsx)(t.td,{children:"900"}),(0,r.jsx)(t.td,{children:"True (for hosted partners)"}),(0,r.jsxs)(t.td,{children:["Ping monitors will be created for the computer ID specified in the system property ",(0,r.jsx)(t.code,{children:"Location_Ping_Monitor_Computerid"}),". For on-prem partners, if this system property is not set, the ping monitors will be created on the Automate server."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Location_Ping_Monitor_Minimum_Computers"}),(0,r.jsx)(t.td,{children:"4"}),(0,r.jsx)(t.td,{children:"False"}),(0,r.jsxs)(t.td,{children:["The minimum number of computers with matching router addresses required to create a ping monitor. This number is ignored if the IP Address is specified in the location-level EDF ",(0,r.jsx)(t.code,{children:"Location_IP_Address"}),". The default value is 4."]})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"client-level-edf",children:"Client-Level EDF"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Section"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Exclude Client from Location Ping Monitors"}),(0,r.jsx)(t.td,{children:"Check Box"}),(0,r.jsx)(t.td,{children:"Exclusions"}),(0,r.jsx)(t.td,{children:"Flag this EDF to exclude all locations of the client from offline location monitoring. Additionally, the existing ping monitor for the location will be removed once this EDF is flagged."})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"location-level-edf",children:"Location-Level EDF"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Section"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Location_IP_Address"}),(0,r.jsx)(t.td,{children:"Text"}),(0,r.jsx)(t.td,{children:"Location Ping Monitoring"}),(0,r.jsx)(t.td,{children:"Public IP to ping. If this EDF is not set, the ping monitor will be created for the router address used by the maximum number of computers for that location."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Exclude from Location Ping Monitoring"}),(0,r.jsx)(t.td,{children:"Check Box"}),(0,r.jsx)(t.td,{children:"Location Ping Monitoring"}),(0,r.jsx)(t.td,{children:"Flagging this EDF excludes the location from monitoring."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"remote-monitor-example",children:"Remote Monitor Example"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Name:"})," ",(0,r.jsx)(t.code,{children:"NTW - Ping Monitor \\<Client Name> - \\<Location Name>"})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Ticket Subject:"})," ",(0,r.jsx)(t.code,{children:"NTW - Ping Failure - \\<Client Name>/\\<Location Name> (\\<Public Address>)"})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Alert Message on Failure:"})," ",(0,r.jsx)(t.code,{children:"Failed to reach/ping \\<Public Address> from \\<Client Name of the Computer trying to Ping the Address>/\\<Name of the computer trying to ping the Address> (\\<Local Address of the computer trying to ping the address>)"})]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"Result: %RESULT%"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Sample Remote Monitor:"}),"\r\n",(0,r.jsx)(t.img,{alt:"Sample Remote Monitor",src:i(85152).A+"",width:"758",height:"732"}),"\r\n",(0,r.jsx)(t.img,{alt:"Sample Remote Monitor",src:i(863483).A+"",width:"758",height:"730"}),"\r\n",(0,r.jsx)(t.img,{alt:"Sample Remote Monitor",src:i(148658).A+"",width:"760",height:"730"}),"\r\n",(0,r.jsx)(t.img,{alt:"Sample Remote Monitor",src:i(953517).A+"",width:"766",height:"734"})]}),"\n",(0,r.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Remote Monitors"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},85152:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_1-cec744c97c36a9c2f47942bb9e460679.png"},863483:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_2-bc804980925251905c8f0059873e145a.png"},148658:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_3-f3220148bcf107146ada117a7ca5a940.png"},953517:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/image_4-4bf0784b83fa810b02888acd356e7253.png"},28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>c});var n=i(296540);const r={},s=n.createContext(r);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);