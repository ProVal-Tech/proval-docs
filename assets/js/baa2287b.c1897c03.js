"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[78636],{101706:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"cwa/scripts/a917ce08-f8ba-493e-92c0-643024a70d96","title":"Automate Database Maintenance - Tickets","description":"This document details the Automate Database Maintenance Solution script, which is responsible for cleaning up various tables in the database, including Tickets, TicketData, and others. It outlines the requirements for each table cleanup and provides information on the script functionality and logging mechanism.","source":"@site/docs/cwa/scripts/Automate Database Maintenance - Tickets.md","sourceDirName":"cwa/scripts","slug":"/cwa/scripts/a917ce08-f8ba-493e-92c0-643024a70d96","permalink":"/proval-docs/docs/cwa/scripts/a917ce08-f8ba-493e-92c0-643024a70d96","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/scripts/Automate Database Maintenance - Tickets.md","tags":[{"inline":false,"label":"Cleanup","permalink":"/proval-docs/docs/tags/cleanup","description":"Documents on system cleanup processes and tools to free up resources"},{"inline":false,"label":"Database","permalink":"/proval-docs/docs/tags/database","description":"Documents related to database management systems and operations"}],"version":"current","frontMatter":{"id":"a917ce08-f8ba-493e-92c0-643024a70d96","title":"Automate Database Maintenance - Tickets","title_meta":"Automate Database Maintenance - Tickets","keywords":["cleanup","tickets","database","maintenance","log"],"description":"This document details the Automate Database Maintenance Solution script, which is responsible for cleaning up various tables in the database, including Tickets, TicketData, and others. It outlines the requirements for each table cleanup and provides information on the script functionality and logging mechanism.","tags":["cleanup","database"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Automate Database Maintenance - Script History","permalink":"/proval-docs/docs/cwa/scripts/c4cc9f04-c64f-4a39-a92c-3a3a480b3300"},"next":{"title":"Automate Database Maintenance - User Class Permission Sync","permalink":"/proval-docs/docs/cwa/scripts/0b85cd78-2ed9-46b0-bf7a-6204226192bb"}}');var n=a(474848),i=a(28453);const c={id:"a917ce08-f8ba-493e-92c0-643024a70d96",title:"Automate Database Maintenance - Tickets",title_meta:"Automate Database Maintenance - Tickets",keywords:["cleanup","tickets","database","maintenance","log"],description:"This document details the Automate Database Maintenance Solution script, which is responsible for cleaning up various tables in the database, including Tickets, TicketData, and others. It outlines the requirements for each table cleanup and provides information on the script functionality and logging mechanism.",tags:["cleanup","database"],draft:!1,unlisted:!1},r=void 0,o={},l=[{value:"Summary",id:"summary",level:2},{value:"Sample Run",id:"sample-run",level:2},{value:"Variables",id:"variables",level:2},{value:"Output",id:"output",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,n.jsxs)(t.p,{children:["This script is called from ",(0,n.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"This script handles the cleanup of the following table(s):"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Tickets"})," - Requires ",(0,n.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"})," ",(0,n.jsx)(t.code,{children:"TicketCleanup_Days"})," Global Variable set to a value other than 0."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"TicketData"})," - Requires ",(0,n.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"})," ",(0,n.jsx)(t.code,{children:"TicketDataAdditionalCleanup_Days"})," set to a value other than 0."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"plugin_cw_cwstatusmapping"})," - Requires ",(0,n.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"})," ",(0,n.jsx)(t.code,{children:"InactiveTicketStatus_Cleanup"})," set to 1."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"plugin_cw_servicestatuses"})," - Requires ",(0,n.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"})," ",(0,n.jsx)(t.code,{children:"InactiveTicketStatus_Cleanup"})," set to 1."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"plugin_cw_clientmapping"})," - Requires ",(0,n.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"})," ",(0,n.jsx)(t.code,{children:"InactiveAgreementMapping_Cleanup"})," set to 1."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"sample-run",children:"Sample Run"}),"\n",(0,n.jsxs)(t.p,{children:["This script is a function script called from ",(0,n.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/6436e6f3-e161-4b64-a4bf-1177cce2f968",children:"CWM - Automate - Script - Automate Database Maintenance Solution"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"variables",children:"Variables"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Verify"}),(0,n.jsx)(t.td,{children:"This variable verifies both the starting count of targeted data and the after-action count of targeted data. We expect the starting count to be a value greater than 0, and the after-action value to be 0."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LogMessage"}),(0,n.jsxs)(t.td,{children:["This variable holds the running log message. Please note this variable is always set the same way wherever it's used in the solution: ",(0,n.jsx)(t.code,{children:"@logMessage@ = @LogMessage@[Linebreak]%when% : [Category] Cleanup [Stage] - Result"}),". Please continue to utilize this standard with this running log file."]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,n.jsx)(t.p,{children:"This script will add the following section to the log variable:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Output",src:a(752217).A+"",width:"940",height:"67"})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},752217:(e,t,a)=>{a.d(t,{A:()=>s});const s="data:image/png;base64,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"},28453:(e,t,a)=>{a.d(t,{R:()=>c,x:()=>r});var s=a(296540);const n={},i=s.createContext(n);function c(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);