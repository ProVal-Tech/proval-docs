"use strict";(self.webpackChunkproval_docs=self.webpackChunkproval_docs||[]).push([[67968],{572969:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"cwa/monitors/663a6cf8-f3da-4a44-9725-73aae8d4d954","title":"Patches Not Installing  X Days","description":"This document outlines a monitoring setup to detect machines that have not installed any cumulative or security patches in the past specified days. It provides alert templates and instructions for adjusting the monitoring parameters, ensuring timely updates and maintenance of machines within a managed patching policy.","source":"@site/docs/cwa/monitors/Patches Not Installing  X Days.md","sourceDirName":"cwa/monitors","slug":"/cwa/monitors/663a6cf8-f3da-4a44-9725-73aae8d4d954","permalink":"/proval-docs/docs/cwa/monitors/663a6cf8-f3da-4a44-9725-73aae8d4d954","draft":false,"unlisted":false,"editUrl":"https://github.com/proval-tech/proval-docs/tree/main/docs/cwa/monitors/Patches Not Installing  X Days.md","tags":[{"inline":false,"label":"Report","permalink":"/proval-docs/docs/tags/report","description":"Documents focused on generating and managing reports"},{"inline":false,"label":"SQL","permalink":"/proval-docs/docs/tags/sql","description":"Documents discussing Structured Query Language and database interactions"},{"inline":false,"label":"Windows","permalink":"/proval-docs/docs/tags/windows","description":"Documents related to Microsoft Windows operating system and its functionalities"}],"version":"current","frontMatter":{"id":"663a6cf8-f3da-4a44-9725-73aae8d4d954","title":"Patches Not Installing  X Days","title_meta":"Patches Not Installing  X Days","keywords":["cumulative","patch","monitoring","updates","alerting"],"description":"This document outlines a monitoring setup to detect machines that have not installed any cumulative or security patches in the past specified days. It provides alert templates and instructions for adjusting the monitoring parameters, ensuring timely updates and maintenance of machines within a managed patching policy.","tags":["report","sql","windows"],"draft":false,"unlisted":false},"sidebar":"contentSidebar","previous":{"title":"Patch Config Mismatch","permalink":"/proval-docs/docs/cwa/monitors/0e230069-e0d6-49f6-ab3a-894f248f3f5b"},"next":{"title":"Patching - Machines Missing 5+ Patches","permalink":"/proval-docs/docs/cwa/monitors/127ea64b-5538-4fd4-92fb-143ff6ce1216"}}');var a=n(474848),i=n(28453);const o={id:"663a6cf8-f3da-4a44-9725-73aae8d4d954",title:"Patches Not Installing  X Days",title_meta:"Patches Not Installing  X Days",keywords:["cumulative","patch","monitoring","updates","alerting"],description:"This document outlines a monitoring setup to detect machines that have not installed any cumulative or security patches in the past specified days. It provides alert templates and instructions for adjusting the monitoring parameters, ensuring timely updates and maintenance of machines within a managed patching policy.",tags:["report","sql","windows"],draft:!1,unlisted:!1},r=void 0,l={},c=[{value:"Summary",id:"summary",level:2},{value:"Suggested Alert Template: ~Custom - Ticket Creation Computer",id:"suggested-alert-template-custom---ticket-creation-computer",level:3},{value:"NOTES:",id:"notes",level:3},{value:"Dependencies",id:"dependencies",level:2},{value:"Target",id:"target",level:2},{value:"Reference Table",id:"reference-table",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsxs)(t.p,{children:["The purpose of this monitor set is to detect machines that do not have any cumulative or security patches installed in the past X days. It will not detect any end-of-life (EOL) machines and will only identify machines where the ",(0,a.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/41141ff5-ef57-4900-93d4-642b4a9d254f",children:"CWM - Automate - Script - Windows Update Report [DV]"})," script has been executed at least once over the past 7 days."]}),"\n",(0,a.jsx)(t.h3,{id:"suggested-alert-template-custom---ticket-creation-computer",children:"Suggested Alert Template: ~Custom - Ticket Creation Computer"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Alerting Tab:"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Subject:"})," LT - Patches Not Installing > X Days on %computername%"]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Alert on Failure:"})," The machine %computername% at %clientname%/%locationname% is currently reporting that it has not installed a recent cumulative update for over X days. Please investigate why this machine is not receiving patches. The last cumulative update for this machine was installed on %Result%."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"%FieldName%"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Alert on Success:"})," The machine %Computername% is no longer reporting that it has failed the monitor %Name%. Closing ticket."]}),"\n",(0,a.jsx)(t.h3,{id:"notes",children:"NOTES:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Adjustments to the SQL must be made at ",(0,a.jsx)(t.code,{children:"AgentID = 'TYPE YOUR MONITOR ID HERE'"})," to make this functional.\r\n",(0,a.jsx)(t.img,{alt:"Image",src:n(7011).A+"",width:"1000",height:"456"})]}),"\n",(0,a.jsxs)(t.li,{children:["To overwrite the default threshold of 45 days, the following changes should be made:","\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Change 45 in the ",(0,a.jsx)(t.code,{children:"INTERVAL 45 DAY"})," statement at the bottom of the additional condition of the monitor set to the preferred number of days.\r\n",(0,a.jsx)(t.img,{alt:"Image",src:n(670152).A+"",width:"400",height:"148"})]}),"\n",(0,a.jsxs)(t.li,{children:["In the Alerting tab, replace 45 with the desired threshold in days.\r\n",(0,a.jsx)(t.img,{alt:"Image",src:n(180369).A+"",width:"836",height:"474"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://proval.itglue.com/DOC-5078775-12275092",children:"EPM - Solution - Windows Update History Audit"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"/proval-docs/docs/cwa/tables/938cd822-f6a3-4ee3-add2-62b407e45622",children:"SEC - Windows Patching - Custom Table - plugin_proval_windows_os_support"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"/proval-docs/docs/cwa/scripts/63beba3c-f4a6-41a5-98e2-d4e4ce885035",children:"CWM - Automate - Script - Ticket Creation - Computer"})}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"target",children:"Target"}),"\n",(0,a.jsx)(t.p,{children:"SQL is limiting it to machines with a managed patching policy only."}),"\n",(0,a.jsx)(t.h2,{id:"reference-table",children:"Reference Table"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"pvl_windows_updates"}),"\n",(0,a.jsx)(t.li,{children:"plugin_proval_windows_os_support"}),"\n",(0,a.jsx)(t.li,{children:"Computers"}),"\n",(0,a.jsx)(t.li,{children:"Clients"}),"\n",(0,a.jsx)(t.li,{children:"Locations"}),"\n",(0,a.jsx)(t.li,{children:"Agentcomputerdata"}),"\n",(0,a.jsx)(t.li,{children:"h_scripts"}),"\n",(0,a.jsx)(t.li,{children:"AgentIgnore"}),"\n",(0,a.jsx)(t.li,{children:"lt_scripts"}),"\n",(0,a.jsx)(t.li,{children:"installsoftwarepolicies"}),"\n",(0,a.jsx)(t.li,{children:"hotfixdata"}),"\n",(0,a.jsx)(t.li,{children:"hotfix"}),"\n",(0,a.jsx)(t.li,{children:"computerpatchpolicies"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},7011:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/image_1-67c05a3c87c7697f67b8db4e3f1a4bc3.png"},670152:(e,t,n)=>{n.d(t,{A:()=>s});const s="data:image/png;base64,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"},180369:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/image_3-607ce302da51296f2f53cf7b37c390ef.png"},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var s=n(296540);const a={},i=s.createContext(a);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);