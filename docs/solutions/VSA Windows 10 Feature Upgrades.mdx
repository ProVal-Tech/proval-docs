---
id: '9f11d658-bcef-435c-8bfa-517b6588f84a'
title: 'Windows 10 Feature Upgrade Implementation'
title_meta: 'Windows 10 Feature Upgrade Implementation Guide'
keywords: ['upgrade', 'windows', 'feature', 'implementation', 'agent', 'procedure', 'registry', 'status']
description: 'This document outlines the implementation of a feature upgrade for Windows 10 endpoints, including procedures for handling reboots, monitoring upgrade status, and managing failures. It provides a comprehensive guide for setting up the necessary components to ensure a smooth upgrade process.'
tags: ['upgrade', 'windows', 'agent', 'procedure', 'status', 'monitoring', 'failure', 'reboot']
draft: false
unlisted: false
---
# Introduction
This is an implementation of the Agnostic content developed by Chris Calverly for ProVal Technologies Implementation designed by Dan Hicks.

# Overview
This implementation will initiate a feature upgrade on the target endpoint, and force that endpoint to reboot to finalize 30 minutes after completion. After completion, the status of the upgrade will be verified and the endpoint will be added to the relevant view. Upgrade status is stored in the registry and an event. There is an optional Agent Procedure included that will schedule the installation without reboot. This no-reboot option will also be applied to machines in the FAILURE status by the policy.

# Included Content

| Name                                                                                                                                                       | Content Type     | Description                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|----------------------------------------------------------------------|
| [SEC - Windows Patching - Agent Procedure - Windows 10 Feature Upgrade](https://proval.itglue.com/DOC-5078775-10784821)                                 | Agent Procedure    | This procedure launches the upgrade process                          |
| [SEC - Windows Patching - Agent Procedure - Windows 10 Feature Upgrade (No Reboot)](https://proval.itglue.com/DOC-5078775-10784812)                     | Agent Procedure    | This Procedure will fire on machines that fail the first attempt. Can also be run manually |
| [SEC - Windows Patching - Agent Procedure - Registry Check](https://proval.itglue.com/DOC-5078775-10784806)                                             | Agent Procedure    | Fired Hourly until the installation status shows success or failure. Updates the CF |
| [SEC - Windows Patching - Agnostic - Update-Windows10](https://proval.itglue.com/DOC-5078775-9447713)                                                  | PowerShell Script  | Agnostic Content to perform Windows 10 Feature Upgrades.            |
| [SEC - Windows Patching - Policy - Windows 10 Feature Upgrade Reattempt on Fail](https://proval.itglue.com/DOC-5078775-10784807)                        | Policy             | Fires the No Reboot script on machines that failed the initial attempt |
| [SEC - Windows Patching - Event Set Monitor - xPVAL Windows Feature Upgrade Event](https://proval.itglue.com/DOC-5078775-10784805)                      | Event Set          | Monitors for the completion event and fires the registry check to force-update the CF |
| [SEC - Windows Patching - Event Set Monitor - xPVAL Windows Feature Upgrade Event](https://proval.itglue.com/DOC-5078775-10784805)                      | Machine Custom Field | Contains the upgrade status                                         |
| [SEC - Windows Patching - View - xPVAL Feature Upgrade Status [REBOOT PENDING]](https://proval.itglue.com/DOC-5078775-10784804)                        | View               | Endpoints that have run the noReboot script.                       |
| [SEC - Windows Patching - View - xPVAL Feature Upgrade Status [FAILURE]](https://proval.itglue.com/DOC-5078775-10784835)                               | View               | Endpoints that have failed the upgrade process                      |
| [SEC - Windows Patching - View - xPVAL Feature Upgrade Status [IN PROGRESS]](https://proval.itglue.com/DOC-5078775-10784819)                           | View               | Endpoints current running either AP                                  |
| [SEC - Windows Patching - View - xPVAL Feature Upgrade Status [SUCCESS]](https://proval.itglue.com/DOC-5078775-10784811)                               | View               | Endpoints that have successfully upgraded                            |
| [SEC - Windows Patching - View - xPVAL Feature Upgrade Status [ALL]](https://proval.itglue.com/DOC-5078775-10784846)                                   | View               | All Endpoints that have run either AP.                              |

# Implementation
1. Create the Machine Custom Field: xPVAL Windows Feature Upgrade Status
2. Create Agent Procedure Folder: Shared/PVAL Stack/Tool Set/Windows/Windows 10 Feature Upgrades/
3. Import Windows 10 Feature Upgrade.xml and place it in Shared/PVAL Stack/Tool Set/Windows/Windows 10 Feature Upgrades/
4. Import Windows 10 Feature Upgrade (No Reboot).xml and place it in Shared/PVAL Stack/Tool Set/Windows/Windows 10 Feature Upgrades/
5. Import Registry Check.xml and place it in Shared/PVAL Stack/Tool Set/Windows/Windows 10 Feature Upgrades/
6. Import xPVAL_Windows_Feature_Upgrade_Event.xml and apply it to all workstations in the environment.
7. Import xPVAL_Feature_Upgrade_Views.xml and ensure the Advanced Filters are correct according to documentation in this solution.
8. Import Windows_10_Feature_Upgrade_Reattempt_On_Fail and place it in the Policies/PVAL Stack folder. Ensure that view and assigned AP is correct in the policy. Notify the client of implementation and availability during the next Admin Call. Be sure to mention the 30-minute forced reboot.












